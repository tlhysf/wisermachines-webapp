(this["webpackJsonpwisermachines-webapp"]=this["webpackJsonpwisermachines-webapp"]||[]).push([[0],{286:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),i=n.n(r),o=n(19),c=n.n(o),s=n(2),l=n(78),d=n(30),u=n(329),j=n(186),m={RED:{800:"#E62020",700:"#F2353C",600:"#FF4C52",500:"#FF666B",400:"#FF8589",300:"#FFBFC1",200:"#FFBFC1",100:"#FFDBDC"},PINK:{800:"#E6155E",700:"#EB2F71",600:"#F74584",500:"#FF5E97",400:"#FF7DAA",300:"#FF9EC0",200:"#FFBAD2",100:"#FFD9E6"},PURPLE:{800:"#7231F5",700:"#8349F5",600:"#9463F7",500:"#A57AFA",400:"#B693FA",300:"#C8AEFC",200:"#D9C7FC",100:"#EAE1FC"},INDIGO:{800:"#364FF5",700:"#4D64FA",600:"#667AFA",500:"#7D8EFA",400:"#96A3FA",300:"#AFB9FA",200:"#C7CFFC",100:"#E1E4FC"},BLUE:{800:"#0B69E3",700:"#247CF0",600:"#3E8EF7",500:"#589FFC",400:"#79B2FC",300:"#99C5FF",200:"#B8D7FF",100:"#D9E9FF"},CYAN:{800:"#007D96",700:"#0099B8",600:"#0BB2D4",500:"#28C0DE",400:"#54CBE3",300:"#77D9ED",200:"#9DE6F5",100:"#C2F5FF"},TEAL:{800:"#008577",700:"#089E8F",600:"#17B3A3",500:"#28C7B7",400:"#45D6C8",300:"#6BE3D7",200:"#92F0E6",100:"#C3F7F2"},GREEN:{800:"#008C4D",700:"#05A85C",600:"#11C26D",500:"#28D17C",400:"#49DE94",300:"#72E8AB",200:"#99F2C2",100:"#C2FADC"},LIGHTGREEN:{800:"#4A7800",700:"#5A9101",600:"#6DA611",500:"#7EB524",400:"#94CC39",300:"#ADD966",200:"#C3E887",100:"#DCF7B0"},YELLOW:{800:"#FAA700",700:"#FCB900",600:"#FFCD17",500:"#FFDC2E",400:"#FFE54F",300:"#FFED78",200:"#FFF39C",100:"#FFF6B5"},ORANGE:{800:"#B53F00",700:"#DE4E00",600:"#EB6709",500:"#F57D1B",400:"#FA983C",300:"#FAB06B",200:"#FFC894",100:"#FFE1C4"},BROWN:{800:"#6B534C",700:"#82675F",600:"#997B71",500:"#AB8C82",400:"#BDA299",300:"#CFB8B0",200:"#E0CDC5",100:"#F5E2DA"},GREY:{800:"#424242",700:"#616161",600:"#757575",500:"#9E9E9E",400:"#BDBDBD",300:"#E0E0E0",200:"#EEEEEE",100:"#FAFAFA"},BLUEGREY:{800:"#263238",700:"#37474F",600:"#526069",500:"#76838F",400:"#A3AFB7",300:"#CCD5DB",200:"#E4EAEC",100:"#F3F7F9"}},h=function(){return Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"50vh"},children:Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{align:"center",variant:"h4",style:{color:m.BLUEGREY[400]},children:"404: Page Not Found"})})})},b=n(115),p=n(288),O={root:{padding:30},textContainer:{paddingLeft:80,paddingRight:80},image:{width:"40vw",padding:10},heading:{color:m.BLUEGREY[700]},text:{color:m.BLUEGREY[800]},buttonContainer:{paddingBottom:30,paddingTop:30},button:{color:m.TEAL[800]}};function f(){return Object(a.jsx)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:O.root,children:Object(a.jsx)(u.a,{children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",component:b.a,elevation:2,spacing:4,children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("img",{src:"img/underConstruction.jpg",alt:"under construction",style:O.image})}),Object(a.jsx)(u.a,{item:!0,md:6,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",style:O.textContainer,spacing:4,children:[Object(a.jsxs)(u.a,{item:!0,xs:12,children:[Object(a.jsx)(j.a,{variant:"h5",paragraph:!0,style:O.heading,children:"This feature is currently under construction."}),Object(a.jsx)(j.a,{variant:"caption",style:O.text,children:"You are here a little early."})]}),Object(a.jsx)(u.a,{item:!0,xs:12,style:O.buttonContainer,children:Object(a.jsx)(p.a,{variant:"outlined",fullWidth:!0,style:O.button,onClick:function(e){window.history.go(-1)},children:Object(a.jsx)(j.a,{variant:"caption",children:"Go back"})})})]})})]})})})}var g=n(11),x=n(9),y=n(358),v=n(335),_=n(355),C=n(332),N=n(356),D=n(334),w=n(187),I=n(336),E=n(160),M=n.n(E),L=n(161),A=n.n(L),k=n(27),T=n.n(k),S=n(333),R={getAllWorkshops:"GET_ALL_WORKSHOPS",workshopsLoading:"LOADING_WORKSHOPS",addWorkshopLoading:"ADD_WORKSHOP_LOADING",editWorkshopLoading:"EDIT_WORKSHOP_LOADING",deleteWorkshopLoading:"DELETE_WORKSHOP_LOADING",addWorkshop:"ADD_WORKSHOP",editOrDeleteWorkshop:"EDIT_OR_DELETE_WORKSHOP",notFound:"WORKSHOPS_NOT_FOUND"},F={getAllZonesInAWorkshop:"GET_ALL_ZONES_IN_A_WORKSHOP",zonesLoading:"LOADING_ZONES",addZoneLoading:"ADD_WORKSHOP_LOADING",editZoneLoading:"EDIT_WORKSHOP_LOADING",deleteZoneLoading:"DELETE_WORKSHOP_LOADING",addZone:"ADD_ZONE",editOrDeleteZone:"EDIT_OR_DELETE_ZONE",notFound:"ZONES_NOT_FOUND"},W={getAllMachinesInAZone:"GET_ALL_MACHINES_IN_A_ZONE",getAllMachineMappings:"GET_ALL_MACHINE_MAPPINGS",machinesLoading:"LOADING_MACHINES",addMachine:"ADD_MACHINE",addMachineLoading:"ADD_MACHINE_LOADING",editOrDeleteMachine:"EDIT_OR_DELETE_MACHINE",editMachineLoading:"EDIT_MACHINE_LOADING",deleteMachineLoading:"DELETE_MACHINE_LOADING",editMachineMapping:"EDIT_MACHINE_MAPPING",editMachineMappingLoading:"EDIT_MACHINE_MAPPING_LOADING",deleteMachineMappingLoading:"DELETE_MACHINE_MAPPING_LOADING",notFound:"MACHINES_NOT_FOUND"},B={getAllNodesInAZone:"GET_ALL_MACHINES_AND_NODES_IN_A_ZONE",nodesLoading:"LOADING_NODES",addNode:"ADD_NODE",addNodeLoading:"ADD_NODE_LOADING",editOrDeleteNode:"EDIT_OR_DELETE_NODE",editNodeLoading:"EDIT_NODE_LOADING",deleteNodeLoading:"DELETE_NODE_LOADING",notFound:"NODES_NOT_FOUND"},G={getMachineDataByID:"GET_MACHINE_DATA_BY_ID",machineLoading:"LOADING_MACHINE",noStoredMachineDataResponse:"NO_STORED_MACHINE_DATA_RESPONSE",notFound:"MACHINE_DETAILS_NOT_FOUND"},P="FILTER_BY_TIME",Z="TOGGLE_ADD_FORM_DRAWER",U="FILTER_BY_NODES_OR_MACHINES",z="TOGGLE_EDIT_FORM_DRAWER",H="TOGGLE_EDIT_MAPPING_FORM_DRAWER",V="TOGGLE_SIDEBAR",Y="SIGNIN",q="SIGNIN_LOADING",K="SIGNIN_ERROR",J={populateContainersPage:"POPULATE_ENV_MONITORING_CONTAINERS_PAGE",containersLoading:"LOADING_ENV_MONITORING_CONTAINERS",addLoading:"ADD_ENV_MONITORING_CONTAINER_LOADING",editLoading:"EDIT_ENV_MONITORING_CONTAINER_LOADING",deleteLoading:"DELETE_ENV_MONITORING_CONTAINER_LOADING",add:"ADD_ENV_MONITORING_CONTAINER",editOrDelete:"EDIT_OR_DELETE_ENV_MONITORING_CONTAINER",notFound:"ENV_MONITORING_CONTAINERS_NOT_FOUND"},X={populateContainerDetailsPage:"POPULATE_ENV_MONITORING_CONTAINER_DETAILS_PAGE",containerDetailsLoading:"LOADING_ENV_MONITORING_CONTAINER_DETAILS",notFound:"ENV_MONITORING_CONTAINER_DETAILS_NOT_FOUND",noStoredDataResponse:"NO_STORED_ENV_MONITORING_CONTAINER_DETAILS_DATA_RESPONSE",getContainerProfile:"GET_ENV_MONITORING_CONTAINER_PROFILE"},$={server:"http://115.186.183.129:37000",showMockData:!1,showDashboardSummaryCards:!1,showDashboardSummaryHeaders:!1,featureTemporarilyUnavailable:!1,users:[{name:"default",password:"default",workshopID:"default",navigationAliases:["default","default"]},{name:"shifa",password:"1234",workshopID:"5fecdd5a7221a50e7842198b",navigationAliases:["workshops","zones"]},{name:"gsk",password:"1234",workshopID:"6001954861c4ce272c5630d5",navigationAliases:["workshops","zones"]},{name:"kolson",password:"1234",workshopID:"",navigationAliases:["workshops","zones"]}]},Q=n(6),ee=function(){return Object(a.jsxs)(j.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(C.a,{color:"inherit",href:"wisermachines.com/",children:"WiserMachines "}),(new Date).getFullYear(),"."]})},te=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},submitLoading:{margin:e.spacing(3,0,2),height:36,padding:6},failure:{marginTop:20,backgroundColor:m.RED[600],color:"white",padding:e.spacing(2),marginBottom:e.spacing(4),"&:hover":{backgroundColor:m.RED[600],color:"white"}},success:{marginTop:20,backgroundColor:m.LIGHTGREEN[400],color:"white",padding:e.spacing(2),marginBottom:e.spacing(4),"&:hover":{backgroundColor:m.LIGHTGREEN[400],color:"white"}}}})),ne=function(){var e=te(),t=Object(Q.b)(),n=Object(Q.c)((function(e){return e.auth.signinError})),i=Object(Q.c)((function(e){return e.auth.signinResponse})),o=Object(Q.c)((function(e){return e.auth.signinLoading})),c=Object(r.useState)({}),l=Object(x.a)(c,2),d=l[0],u=l[1],m=Object(r.useState)({name:"",password:""}),h=Object(x.a)(m,2),b=h[0],O=h[1],f=function(e){O(Object(s.a)(Object(s.a)({},b),{},Object(g.a)({},e.target.id,e.target.value))),u({name:null,password:null})},C=function(e){e.preventDefault();var n={name:""===b.name?"Cannot be empty.":null,password:""===b.password?"Cannot be empty.":null};u(n),0===Object.values(n).filter((function(e){return e})).length&&function(e,t){e({type:q}),setTimeout((function(){0===$.users.map((function(n){var a=t.name===n.name,r=t.password===n.password;return a&&r?(localStorage.setItem("user",n.name),localStorage.setItem("signedin",!0),e({type:Y,payload:"Successfully signed in."}),n):null})).filter((function(e){return e})).length&&e({type:K,payload:"The user name or password you entered isn't correct. Try entering it again."})}),1e3)}(t,b)};return Object(r.useEffect)((function(){null!==i&&setTimeout((function(){window.location.href="/"}),1e3)}),[i]),Object(a.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(v.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(y.a,{className:e.avatar,children:Object(a.jsx)(M.a,{})}),Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[n?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(A.a,{}),fullWidth:!0,className:e.failure,onClick:function(e){return e.preventDefault()},disableRipple:!0,children:Object(a.jsx)(j.a,{variant:"caption",children:n})})})):null,i?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:e.success,onClick:function(e){return e.preventDefault()},disableRipple:!0,children:Object(a.jsx)(j.a,{variant:"caption",children:i})})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Username",name:"name",autoComplete:"off",onChange:function(e){return f(e)},color:d.name?"secondary":"primary",placeholder:d.name,focused:!0,style:{marginTop:20}}),Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:function(e){return f(e)},color:d.password?"secondary":"primary",placeholder:d.password,focused:!0,style:{marginTop:20}}),o?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:e.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:e.submit,onClick:function(e){return C(e)},style:{marginTop:20},children:"Sign In"})]})]}),Object(a.jsx)(N.a,{mt:20,children:Object(a.jsx)(ee,{})})]})},ae=n(163),re=n.n(ae),ie=n(164),oe=n.n(ie),ce=n(166),se=n.n(ce),le=n(165),de=n.n(le),ue=n(167),je=n.n(ue),me="/",he="/signin",be="/pagenotfound",pe="/comingsoon",Oe="Machine-Monitoring",fe="Environment-Monitoring",ge=function(e){var t={height:30,width:30,color:m.TEAL[700]},n={width:20,height:20,color:m.TEAL[700]};return e?t:n},xe=function(e){return[{title:"Monitoring",url:me,icon:Object(a.jsx)(re.a,{style:ge(e)}),children:[fe,Oe]},{title:"Analytics",url:pe,icon:Object(a.jsx)(oe.a,{style:ge(e)})},{title:"HR",url:pe,icon:Object(a.jsx)(de.a,{style:ge(e)})},{title:"Schedule",url:pe,icon:Object(a.jsx)(se.a,{style:ge(e)})},{title:"Management",url:pe,icon:Object(a.jsx)(je.a,{style:ge(e)})}]},ye=n(130),ve=n(337),_e=n(289),Ce=n(168),Ne=n.n(Ce),De={root:{height:"30vh"},card:{height:100,width:250,display:"flex",alignItems:"center",justifyContent:"center",paddingTop:10,"&:hover":{boxShadow:"0px 0.5px 1px 2px"+m.INDIGO[400]}},popOver:{width:250}},we=Object(S.a)(De),Ie=function(e){var t=we(),n=m.TEAL[700],r=e.data,o=r.title,c=r.icon,s=r.url,l=r.children,d=i.a.useState(!1),h=Object(x.a)(d,2),O=h[0],f=h[1],g=i.a.useState(null),y=Object(x.a)(g,2),v=y[0],_=y[1],C=function(e){_(e.currentTarget),f(!O)},N=Object(a.jsx)(b.a,{className:t.card,elevation:2,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:12,style:{color:n},children:c}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{variant:"overline",style:{color:n},children:o.split("-").join(" ")})})]})});return Object(a.jsx)(ve.a,{title:"Click To Open",placement:"top",disableHoverListener:O,children:Object(a.jsxs)(ye.a,{onClick:function(e){return function(e,t,n){n?C(e):window.location.href=t}(e,s,l)},children:[N,O?function(e){return Object(a.jsx)(_e.a,{open:O,anchorEl:v,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(a.jsx)(u.a,{container:!0,className:t.popOver,children:e?e.map((function(e){return Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(p.a,{fullWidth:!0,endIcon:Object(a.jsx)(Ne.a,{style:{width:10,color:n}}),onClick:function(t){return function(e,t){window.location.href="/"+t+"/"}(0,e)},children:Object(a.jsx)(j.a,{variant:"overline",style:{color:n},children:e.split("-").join(" ")})})})})):null})})}(l):null]})})},Ee=function(){var e=we();return Object(a.jsx)(u.a,{container:!0,className:e.root,justify:"center",alignItems:"center",spacing:2,children:xe(true).map((function(e,t){var n=e.title,r=e.icon,i=e.url,o=e.children;return Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(Ie,{data:{title:n,icon:r,url:i,children:o}})},t)}))})},Me=n(70),Le=n.n(Me),Ae=function(e){return!(void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length||typeof e instanceof Array&&0===e.length)},ke={name:""},Te={id:"",name:""},Se={id:""},Re={name:"",workshop_id:"",min_temperature:0,max_temperature:100,min_humidity:0,max_humidity:100},Fe={id:"",name:""},We={id:""},Be={name:"",idle_threshold:"",max_load:"",sensor_voltage_scalar:0},Ge={machine_id:"",node_id:"",sensor_number:0},Pe={id:""},Ze={id:""},Ue={mac:"",sensor_1_rating:null,sensor_2_rating:null},ze={id:""},He={id:""},Ve="md",Ye=function(e){var t,n;return{grow:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"},appBar:(t={},Object(g.a)(t,e.breakpoints.up("lg"),{width:"calc(100% - ".concat(50,"px)"),marginLeft:50}),Object(g.a)(t,"width","100%"),Object(g.a)(t,"marginLeft",0),Object(g.a)(t,"backgroundColor",m.BLUEGREY[100]),Object(g.a)(t,"color",m.BLUEGREY[500]),Object(g.a)(t,"boxShadow","0px 0px 0px 0px"),t),menuButtonDesktop:(n={},Object(g.a)(n,e.breakpoints.down(Ve),{display:"none"}),Object(g.a)(n,"height",30),Object(g.a)(n,"width",30),Object(g.a)(n,"marginLeft",10),Object(g.a)(n,"marginTop",15),n),menuButtonMobile:Object(g.a)({display:"none"},e.breakpoints.down(Ve),{display:"flex"}),logo:{maxWidth:"80px"},drawer:{width:200,flexShrink:0,whiteSpace:"nowrap",boxShadow:"0px 0px 0px 0px"},drawerClose:Object(g.a)({overflowX:"hidden",width:50},e.breakpoints.down(Ve),{display:"none"}),listItem:{marginBottom:e.spacing(2)},listItemIcon:{width:20,color:m.TEAL[700]},listItemText:{paddingLeft:20,paddingTop:2,color:m.TEAL[700]},sectionDesktop:Object(g.a)({display:"none"},e.breakpoints.up(Ve),{display:"flex"}),sectionMobile:Object(g.a)({display:"flex"},e.breakpoints.up(Ve),{display:"none"}),drawerHeader:Object(s.a)({},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(1)},menuItemIcon:{paddingRight:10,color:m.TEAL[600]}}},qe=function(e){return{popper:{position:"relative",zIndex:999},button:{backgroundColor:"white",color:m.BLUEGREY[500]},iconInsideButton:{height:20,width:20,paddingLeft:5,paddingRight:5},iconButton:{height:15,width:15},menuItemIcon:{paddingRight:10,height:15},cardHover:{"&:hover":{boxShadow:"0px 0.5px 1px 2px"+m.INDIGO[400]}}}},Ke=function(e){return{paper:{margin:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(4)},submit:{marginTop:e.spacing(4)},submitLoading:{marginTop:e.spacing(4),height:36,padding:6},divider:{marginTop:e.spacing(5),backgroundColor:m.BLUEGREY[500],height:1,border:"none"},success:{backgroundColor:m.LIGHTGREEN[400],color:"white",padding:e.spacing(2),marginBottom:e.spacing(4)}}},Je={title:{fontSize:13},error:{fontSize:12},container:{margin:15,paddingTop:15,paddingBottom:15}},Xe={iconPaper:{padding:"5px 5px 5px 5px",display:"flex",justifyContent:"center",align:"center",backgroundColor:"transparent"},textPaper:{padding:"5px 5px 5px 5px",display:"flex",justifyContent:"center",align:"center",backgroundColor:"transparent",minHeight:"45px"}},$e=n(162),Qe=n(339),et=n(94),tt=n.n(et),nt=n(338),at=n(32),rt=n.n(at),it=n(107),ot=n.n(it),ct=n(90),st=n.n(ct),lt=n(80),dt=n.n(lt);st()(rt.a),ot()(rt.a);var ut=function(e,t,n){return e>=t.high?n.high:e>=t.low?n.normal:(t.low,n.low)},jt=function(e,t,n,a){return{chart:{type:"solidgauge",height:"100%",width:200,margin:[0,0,0,0]},title:{text:null},tooltip:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},pane:{startAngle:0,endAngle:360,background:{outerRadius:"85%",innerRadius:0,backgroundColor:"none",borderWidth:0}},yAxis:[{min:0,max:t.yMax,lineWidth:0,tickPositions:[]},{min:0,max:e.yMax,lineWidth:0,tickPositions:[]}],plotOptions:{solidgauge:{linecap:"round",rounded:!0}},series:[(o=n,c=e.yMax,{data:[{color:rt.a.color(o).setOpacity(.2).get(),radius:100,innerRadius:90,y:c}],dataLabels:{enabled:!1},enableMouseTracking:!1}),{name:e.name,data:[{color:n,radius:100,innerRadius:90,y:e.value}],dataLabels:{enabled:!1},enableMouseTracking:!1},(r=a,i=t.yMax,{data:[{color:rt.a.color(r).setOpacity(.2).get(),radius:87,innerRadius:77,y:i}],dataLabels:{enabled:!1},enableMouseTracking:!1}),{name:t.name,data:[{color:a,radius:87,innerRadius:77,y:t.value}],dataLabels:{enabled:!1},enableMouseTracking:!1}]};var r,i,o,c},mt=function(e){var t=e.item1,n=e.item2,o=e.colorSets,c=ut(t.value,t.thresholds,o.gaugeItem1),s=ut(n.value,n.thresholds,o.gaugeItem2),l=Object(r.useState)(jt(t,n,c,s)),d=Object(x.a)(l,2),u=d[0],m=d[1];return i.a.useEffect((function(){var t=e.item1,n=e.item2,a=e.colorSets,r=ut(t.value,t.thresholds,a.gaugeItem1),i=ut(n.value,n.thresholds,a.gaugeItem2);m(jt(t,n,r,i))}),[e]),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(a.jsx)(dt.a,{highcharts:rt.a,options:u}),Object(a.jsxs)("div",{style:{position:"absolute"},children:[Object(a.jsx)(ve.a,{title:t.name,placement:"top",arrow:!0,children:Object(a.jsxs)(j.a,{variant:"button",align:"center",style:{padding:4,color:c,display:"block"},children:[t.value,t.suffix]})}),Object(a.jsx)(ve.a,{title:n.name,placement:"bottom",arrow:!0,children:Object(a.jsxs)(j.a,{variant:"button",align:"center",style:{padding:4,color:s,display:"block"},children:[n.value,n.suffix]})})]})]})},ht=n(95),bt=n.n(ht),pt=n(125),Ot=n.n(pt),ft=function(e){e({type:Z})},gt=function(e,t,n){e({type:z,payload:{ID:t,name:n}})},xt=function(e,t,n){e({type:H,payload:{ID:t,name:n}})},yt=function(e){e({type:V})},vt=Object(S.a)((function(e){return qe()})),_t={high:m.TEAL[600],normal:m.INDIGO[600],low:m.ORANGE[600]},Ct={info1:_t,info2:_t,status:_t,gaugeItem1:{high:m.GREEN[600],normal:m.CYAN[600],low:m.RED[600]},gaugeItem2:{high:m.LIGHTGREEN[600],normal:m.INDIGO[600],low:m.PURPLE[600]}},Nt=function(e,t,n){return e>=t.high?n.high:e>=t.low?n.normal:(t.low,n.low)},Dt=Object(d.g)((function(e){var t=vt(),n=Object(Q.b)(),r=e.compact,o=e.data,c=o.name,s=o.ID,l=o.mapping,d=o.status,h=o.info1,O=o.info2,f=o.gaugeItem1,g=o.gaugeItem2,y=i.a.useState(null),v=Object(x.a)(y,2),_=v[0],C=v[1],N=function(){C(null)},D=function(e){return Object(a.jsx)(j.a,{variant:"body2",style:{color:Nt(d.change,d.thresholds,Ct.status),display:"inline-block",padding:3},children:e})},w=function(e){return Object(a.jsx)(j.a,{variant:"body2",style:{color:Nt(h.change,h.thresholds,Ct.info1),display:"inline-block",padding:3},children:e})},I=function(e){return Object(a.jsx)(j.a,{variant:"body2",style:{color:Nt(O.change,O.thresholds,Ct.info2),display:"inline-block",padding:3},children:e})},E=function(e){return Object(a.jsx)(j.a,{variant:"body2",style:{color:Nt(f.value,f.thresholds,Ct.gaugeItem1),display:"inline-block",padding:3},children:e})},M=function(e){return Object(a.jsx)(j.a,{variant:"body2",style:{color:Nt(g.value,g.thresholds,Ct.gaugeItem2),display:"inline-block",padding:3},children:e})},L=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:Nt(d.change,d.thresholds,Ct.status)},children:d.icon})}),Object(a.jsx)(u.a,{item:!0,children:D(d.name+":")}),Object(a.jsxs)(u.a,{item:!0,children:[" ",D(d.value)]})]})}),A=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:Nt(h.change,h.thresholds,Ct.info1)},children:h.icon})}),Object(a.jsx)(u.a,{item:!0,children:w(h.name+":")}),Object(a.jsx)(u.a,{item:!0,children:w(h.value)})]})}),k=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:Nt(O.change,O.thresholds,Ct.info2)},children:O.icon})}),Object(a.jsx)(u.a,{item:!0,children:I(O.name+":")}),Object(a.jsx)(u.a,{item:!0,children:I(O.value)})]})}),T=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:Nt(f.value,f.thresholds,Ct.gaugeItem1)},children:f.icon})}),Object(a.jsx)(u.a,{item:!0,children:E(f.name+":")}),Object(a.jsx)(u.a,{item:!0,children:E(f.value+f.suffix)})]})}),S=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:Nt(g.value,g.thresholds,Ct.gaugeItem2)},children:g.icon})}),Object(a.jsx)(u.a,{item:!0,children:M(g.name+":")}),Object(a.jsx)(u.a,{item:!0,children:M(g.value+g.suffix)})]})}),R=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"flex-start",style:{padding:5},children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:Object(a.jsx)(u.a,{item:!0,children:L})})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(a.jsx)(u.a,{item:!0,children:A}),Object(a.jsx)(u.a,{item:!0,children:k})]})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(a.jsx)(u.a,{item:!0,children:T}),Object(a.jsx)(u.a,{item:!0,children:S})]})})]})});return Object(a.jsx)(b.a,{elevation:2,style:{padding:10},className:t.cardHover,children:Object(a.jsxs)(u.a,{container:!0,justify:"space-around",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,children:s?Object(a.jsx)(ve.a,{title:"Open",placement:"top",children:Object(a.jsx)(p.a,{onClick:function(){var t=e.location.pathname;window.location.href=Di(t,s,c)},children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:c})})}):Object(a.jsx)(p.a,{disableRipple:!0,children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:c})})}),Object(a.jsxs)(u.a,{item:!0,children:[Object(a.jsx)(ve.a,{title:"Settings",placement:"top",children:Object(a.jsx)(nt.a,{onClick:function(e){C(e.currentTarget)},children:Object(a.jsx)(tt.a,{className:t.iconButton})})}),Object(a.jsxs)($e.a,{id:"settingsMenu",anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:N,children:[Object(a.jsxs)(Qe.a,{onClick:function(){N(),gt(n,s,c)},children:[Object(a.jsx)(bt.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Edit"})]}),l?Object(a.jsxs)(Qe.a,{onClick:function(){N(),xt(n,s,c)},children:[Object(a.jsx)(Ot.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Change Mapping"})]}):null]})]})]})}),r?null:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(mt,{item1:f,item2:g,colorSets:Ct})}),r?null:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",style:{padding:5},children:[L,A,k]})}),r?R:null]})})})),wt=Object(d.g)((function(e){var t=vt(),n=Object(Q.b)(),r=e.data,o=r.name,c=r.ID,s=r.mapping,l=i.a.useState(null),d=Object(x.a)(l,2),h=d[0],O=d[1],f=function(){O(null)};return Object(a.jsx)(b.a,{elevation:2,style:{padding:10},className:t.cardHover,children:Object(a.jsx)(u.a,{container:!0,justify:"space-around",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,children:c?Object(a.jsx)(ve.a,{title:"Open",placement:"top",children:Object(a.jsx)(p.a,{onClick:function(){var t=e.location.pathname;window.location.href=Di(t,c,o)},children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:o})})}):Object(a.jsx)(p.a,{disableRipple:!0,children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:o})})}),Object(a.jsxs)(u.a,{item:!0,children:[Object(a.jsx)(ve.a,{title:"Settings",placement:"top",children:Object(a.jsx)(nt.a,{onClick:function(e){O(e.currentTarget)},children:Object(a.jsx)(tt.a,{className:t.iconButton})})}),Object(a.jsxs)($e.a,{id:"settingsMenu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:f,children:[Object(a.jsxs)(Qe.a,{onClick:function(){f(),gt(n,c,o)},children:[Object(a.jsx)(bt.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Edit"})]}),s?Object(a.jsxs)(Qe.a,{onClick:function(){f(),xt(n,c,o)},children:[Object(a.jsx)(Ot.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Change Mapping"})]}):null]})]})]})})})})})),It=Object(S.a)((function(e){return qe()}));function Et(e){var t=It(),n=e.data,r=n.icon,i=n.values,o="primary"===i.colored?i.color:m.BLUEGREY[500],c=null===i.colored||"secondary"===i.colored?i.colored:m.BLUEGREY[500];return Object(a.jsx)(p.a,{className:t.cardHover,variant:"contained",elevation:2,style:{backgroundColor:"white",textTransform:"none",padding:12},disableRipple:!0,disableFocusRipple:!0,fullWidth:!0,startIcon:Object(a.jsx)("span",{style:{color:i.color,padding:5},children:r}),children:Object(a.jsxs)(u.a,{container:!0,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{align:"left",variant:"subtitle2",style:{color:o},children:i.primary})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{align:"left",variant:"subtitle1",style:{color:c},children:i.secondary})})]})})}var Mt=n(66),Lt=n.n(Mt),At=n(67),kt=n.n(At),Tt=n(59),St=n.n(Tt),Rt=n(60),Ft=n.n(Rt),Wt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},Bt={width:15},Gt=function(){var e=Wt(0,100),t=Wt(0,e);return{name:"Total Active",change:t,value:t+"/"+e,icon:Object(a.jsx)(T.a,{style:Bt}),thresholds:{high:.66*e,low:.33*e}}},Pt=function(){var e=Wt(0,80);return{name:"Temperature",change:e,value:e+"\xb0C",icon:Object(a.jsx)(Lt.a,{style:Bt}),thresholds:{high:80*.66,low:80*.33}}},Zt=function(){var e=Wt(0,100);return{name:"Humidity",change:e,value:e+" %RH",icon:Object(a.jsx)(kt.a,{style:Bt}),thresholds:{high:66,low:33}}},Ut=function(){return{name:"Utilization",value:Math.round(100*Math.random()),suffix:"%",thresholds:{high:66,low:33},icon:Object(a.jsx)(St.a,{style:Bt}),yMax:100}},zt=function(){return{name:"Units",value:Math.round(100*Math.random()),suffix:"KWh",thresholds:{high:66,low:33},icon:Object(a.jsx)(Ft.a,{style:Bt}),yMax:100}},Ht=n(109),Vt=n.n(Ht),Yt=n(108),qt=n.n(Yt),Kt=n(36),Jt=n(81),Xt=n.n(Jt),$t=n(82),Qt=n.n($t),en=n(73),tn=n.n(en),nn=n(69),an=n.n(nn),rn=n(68),on=n.n(rn),cn={width:15,paddingRight:3},sn=function(e){var t={_id:"",machine_name:"",state_instant:"",state_instant_duration:0,uptime:0,downtime:0,utilization_percent:0,units:0};Object.keys(t).map((function(n){return null===e[n]&&void 0===e[n]||(t=Object(s.a)(Object(s.a)({},t),{},Object(g.a)({},n,e[n]))),n}));var n=t,r=n.machine_name,i=n._id,o=n.state_instant,c=n.state_instant_duration,l=n.uptime,d=n.downtime,u=n.utilization_percent,j=n.units;return{name:r,ID:i,mapping:!0,status:function(){var e=o,t=function(e){switch(e){case"OFF":return 0;case"IDLE":return 1;case"ON":return 2;default:return 0}}(e);return{name:e,change:t,value:jn(1e3*c,0),icon:function(e){switch(e){case 0:return Object(a.jsx)(tn.a,{style:cn});case 1:return Object(a.jsx)(Xt.a,{style:cn});case 2:return Object(a.jsx)(Qt.a,{style:cn});default:return Object(a.jsx)(tn.a,{style:cn})}}(t),thresholds:{high:1.5,low:1}}}(),info1:{name:"Uptime",change:l/60,value:jn(1e3*l,0),icon:Object(a.jsx)(on.a,{style:cn}),thresholds:{high:3960,low:1980}},info2:{name:"Downtime",change:d/60,value:jn(1e3*d,0),icon:Object(a.jsx)(an.a,{style:cn}),thresholds:{high:3960,low:1980}},gaugeItem1:{name:"Utilization",value:u,suffix:"%",thresholds:{high:66,low:33},icon:Object(a.jsx)(St.a,{style:cn}),yMax:100},gaugeItem2:{name:"Units",value:j,suffix:"KWh",thresholds:{high:66,low:33},icon:Object(a.jsx)(Ft.a,{style:cn}),yMax:100}}},ln=function(e){if(e<=60)return"00:".concat(dn(e,2));var t=Math.floor(e/60),n=e-60*t;return"".concat(dn(t,2),":").concat(dn(n,2))},dn=function(e,t,n){return n=n||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(n)+e},un=function(e){try{return e.reduce((function(e,t){return e+t}),0)/e.length}catch(t){return console.log(t),0}},jn=function(e,t){var n=e-t,a=Math.floor(n/1e3/60/60/24);n-=1e3*a*60*60*24;var r=Math.floor(n/1e3/60/60);n-=1e3*r*60*60;var i=Math.floor(n/1e3/60);n-=1e3*i*60;var o=Math.floor(n/1e3),c=String((a>0?a+"d ":"")+(r>0?r+"h ":"")+(i>0?i+"m ":"")+(o>0?o+"s":""));return 0===c.length&&(c="0s"),c},mn=function(e,t){return new Date(t).getTime()-60*e*60*1e3},hn=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},bn={width:30},pn=function(){var e={icon:Object(a.jsx)(qt.a,{style:bn}),values:{primary:"Last Updated",secondary:jn(hn(0,864e5),0),color:m.CYAN[700]}},t=hn(0,100);return[e,{icon:Object(a.jsx)(Vt.a,{style:bn}),values:{primary:"Active",secondary:String(hn(0,t))+"/"+String(t),color:m.BLUE[700]}},{icon:Object(a.jsx)(St.a,{style:bn}),values:{primary:"Utilization",secondary:String(hn(0,100))+" %",color:m.GREEN[700]}},{icon:Object(a.jsx)(Ft.a,{style:bn}),values:{primary:"Units",secondary:String(hn(0,100))+" kWh",color:m.INDIGO[700]}},{icon:Object(a.jsx)(Lt.a,{style:bn}),values:{primary:"Temperature",secondary:String(hn(0,100))+" \xb0C",color:m.ORANGE[700]}},{icon:Object(a.jsx)(kt.a,{style:bn}),values:{primary:"Humidity",secondary:String(hn(0,100))+" %RH",color:m.PURPLE[700]}}]},On=200;function fn(e){return Object(a.jsxs)(u.a,{container:!0,spacing:2,children:[$.showDashboardSummaryHeaders?Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,spacing:2,children:pn().map((function(e,t){return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:On+t*On}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:2,md:4,sm:6,xs:12,children:Object(a.jsx)(Et,{data:e})},t)}),t)}))})}):null,Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:e.allWorkshops.map((function(e,t){return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:On+t*On}),{},{children:Object(a.jsx)(u.a,{item:!0,xl:3,md:4,xs:12,children:$.showDashboardSummaryCards?Object(a.jsx)(Dt,{data:{name:e.name,ID:e._id,mapping:!1,status:Gt(),info1:Pt(),info2:Zt(),gaugeItem1:Ut(),gaugeItem2:zt()}}):Object(a.jsx)(wt,{data:{name:e.name,ID:e._id,mapping:!1}})},t)}),t)}))})})]})}var gn=n(357),xn=n(171),yn=n.n(xn),vn=n(170),_n=n.n(vn),Cn={link:{display:"flex"},icon:{width:20,height:20},paper:{paddingLeft:10,paddingRight:10}},Nn=function(e,t){e.preventDefault(),window.location.href=t},Dn=Object(d.g)((function(e){var t=e.list,n=e.location.pathname,r=e.match.params,i=t.map((function(e){return r[e]?r[e].split("_").join(" ").split("-").join(" "):e})),o=n.split("/").filter((function(e){return e})),c=n,s=o.map((function(e){var t=c;return c=function(e){var t=e.split("/").filter((function(e){return e}));return e.replace(t.slice(-1).pop(),"").replace(/\/+$/g,"")}(c),t})).filter((function(e){return e}));s.reverse();var l=s.map((function(e,t){return t===s.length-1?Object(a.jsx)(ve.a,{title:"Current page",placement:"top",children:Object(a.jsx)(j.a,{variant:"overline",style:{color:m.TEAL[800]},children:i[t]},t)},t):0===t?Object(a.jsx)(C.a,{color:"inherit",onClick:function(e){return Nn(e,"/")},style:Cn.link,children:Object(a.jsx)(ve.a,{title:"Home",placement:"top",children:Object(a.jsx)(ye.a,{children:Object(a.jsx)(_n.a,{style:Cn.icon})})},t)},t):Object(a.jsx)(C.a,{color:"inherit",onClick:function(t){return Nn(t,e)},children:Object(a.jsx)(ve.a,{title:"Go to "+i[t].toLowerCase(),placement:"top",children:Object(a.jsx)(ye.a,{children:Object(a.jsx)(j.a,{variant:"overline",children:i[t]})})},t)},t)}));return Object(a.jsx)(b.a,{elevation:2,style:Cn.paper,children:Object(a.jsx)(gn.a,{separator:Object(a.jsx)(yn.a,{fontSize:"small",style:{color:m.TEAL[700]}}),children:l})})})),wn=n(23),In=n.n(wn),En=function(e,t,n){e.response?(console.log("The request was made and the server responded with a status code !== 2xx",e.response),500===e.response.status?t({type:e.response.status}):404===e.response.status&&t({type:n.notFound})):e.request?console.log("The request was made but no response was received",e.request):e.message&&console.log("Something happened in setting up the request that triggered an Error",e.message),console.log("error.config:",e.config)},Mn=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},Ln="Machine-",An="Zone-",kn={getAllWorkshops:[{_id:"6000163ba6f18b0f847ee574",name:"Workshop-0",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-1",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-2",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-3",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-4",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-5",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-6",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-7",__v:0}],getAllZones:[{_id:"5fdb233b3edf4e2a3889fe36",name:An+Mn(0,100),workshop_id:"5fdb23113edf4e2a3889fe35",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:An+Mn(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:An+Mn(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:An+Mn(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:An+Mn(0,100),workshop_id:"5fdb23113edf4e2a3889fe35",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:An+Mn(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:An+Mn(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:An+Mn(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0}],getAllMachines:[{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Ln+Mn(0,100),idle_threshold:Mn(0,20),max_load:Mn(20,100),sensor_voltage_scalar:0,__v:0}],getAllMachineMappings:[{_id:"5fdb240f3edf4e2a3889fe4f",machine_id:"5fdb23ee3edf4e2a3889fe48",node_id:"5fdb237e3edf4e2a3889fe37",sensor_number:1,__v:0},{_id:"5fdb240f3edf4e2a3889fe4f",machine_id:"5fdb23ee3edf4e2a3889fe48",node_id:"5fdb237e3edf4e2a3889fe37",sensor_number:1,__v:0},{_id:"5fdb240f3edf4e2a3889fe4f",machine_id:"5fdb23ee3edf4e2a3889fe48",node_id:"5fdb237e3edf4e2a3889fe37",sensor_number:1,__v:0}],getAllNodeToMachineMappingInAZone:{"70:B3:D5:FE:4C:00":[{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:1},{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:01":[{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:1},{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:02":[{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:1},{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:03":[{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:1}],"70:B3:D5:FE:4C:04":[{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:05":[{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:06":[{_id:"5fdb23ee3edf4e2a3889fe48",Machine_Name:Ln+Mn(0,100),Sensor_Number:1}],"70:B3:D5:FE:4C:07":[]},getAllNodes:[{_id:"5fdb237e3edf4e2a3889fe37",mac:"70:B3:D5:FE:4C:00",sensor_1_rating:60,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdf35a085790c04ec5d4338",mac:"70:B3:D5:FE:4C:01",sensor_1_rating:50,sensor_2_rating:50,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fe475695163c82ed4f57e39",mac:"70:B3:D5:FE:4C:02",sensor_1_rating:30,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdb237e3edf4e2a3889fe40",mac:"70:B3:D5:FE:4C:03",sensor_1_rating:60,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdf35a085790c04ec5d4341",mac:"70:B3:D5:FE:4C:04",sensor_1_rating:50,sensor_2_rating:50,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fe475695163c82ed4f57e42",mac:"70:B3:D5:FE:4C:05",sensor_1_rating:30,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdb237e3edf4e2a3889fe43",mac:"70:B3:D5:FE:4C:06",sensor_1_rating:60,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdf35a085790c04ec5d4344",mac:"70:B3:D5:FE:4C:07",sensor_1_rating:50,sensor_2_rating:50,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fe475695163c82ed4f57e45",mac:"70:B3:D5:FE:4C:08",sensor_1_rating:30,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdb237e3edf4e2a3889fe46",mac:"70:B3:D5:FE:4C:09",sensor_1_rating:60,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdf35a085790c04ec5d4347",mac:"70:B3:D5:FE:4C:10",sensor_1_rating:50,sensor_2_rating:50,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fe475695163c82ed4f57e48",mac:"70:B3:D5:FE:4C:11",sensor_1_rating:30,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0}]},Tn=1e3,Sn=n(341),Rn=n(172),Fn=n.n(Rn),Wn=n(340);function Bn(e){var t=e.disableAnimation?0:200;return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:t}),{},{children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:1,component:b.a,elevation:2,style:{backgroundColor:m.BLUE[600],color:"white",padding:10},children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(Fn.a,{style:{paddingTop:4}})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body1",align:"center",children:e.message})})]})})}))}var Gn=function(e){return Object(a.jsx)(Wn.a,{open:e.open,onClose:function(t){return e.onClose()},PaperProps:{elevation:0,style:{backgroundColor:"rgb(0,0,0,0)"}},children:Object(a.jsx)("div",{style:{padding:20},children:Object(a.jsx)(Bn,{message:e.message,disableAnimation:!0})})})},Pn=Object(S.a)((function(e){return Ke(e)})),Zn=function(e){var t=Object(Q.b)(),n=Pn(),i=Object(Q.c)((function(e){return e.common.toggleAddFormDrawer})),o=Object(Q.c)((function(e){return e.workshops.addWorkshopResponse})),c=Object(Q.c)((function(e){return e.workshops.addWorkshopLoading})),l=Object(r.useState)({}),d=Object(x.a)(l,2),u=d[0],m=d[1],h=Object(r.useState)({}),b=Object(x.a)(h,2),O=b[0],f=b[1],y=Object(r.useState)(!1),v=Object(x.a)(y,2),C=v[0],N=v[1],E=function(){m({}),f({}),N(!1)},M=function(e){m(Object(s.a)(Object(s.a)({},u),{},Object(g.a)({},e.target.id,e.target.value)))},L=function(e){if(e.preventDefault(),u.name&&Ae(u.name)){var n=ke;n.name=u.name,function(e,t){e({type:R.addWorkshopLoading});var n=JSON.stringify(t),a={method:"post",url:$.server+"/Workshop",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:R.addWorkshop,payload:{response:Math.random()+1}})}),Tn):In()(a).then((function(t){200!==t.status&&201!==t.status||e({type:R.addWorkshop,payload:{response:Math.random()+1}})})).catch((function(t){return En(t,e,R)}))}(t,n)}else f(Object(s.a)(Object(s.a)({},O),{},{name:"Name is required."}))},A=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(E(),ft(t))};return Object(r.useEffect)((function(){o>0&&N(!0)}),[o]),Object(r.useEffect)((function(){C&&setTimeout((function(){ft(t),E(),window.location.href=e.url}),2e3)}),[C,t,e]),$.featureTemporarilyUnavailable?Object(a.jsx)(Gn,{open:i,message:"This feature is temporarily unavailable.",onClose:function(e){return ft(t)}}):Object(a.jsx)(Sn.a,{open:i,anchor:"right",onClose:function(e){return A()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Add"}),Object(a.jsxs)("form",{noValidate:!0,className:n.form,onSubmit:function(e){return e.preventDefault()},children:[C?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:O.name,color:O.name?"secondary":"primary",onKeyPress:function(e){return M(e)},onChange:function(e){return M(e)},autoComplete:"off",focused:!0}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(e){return L(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return A()},children:"Cancel"})]})]})})})},Un=Object(S.a)((function(e){return Ke(e)})),zn=function(e){var t=Object(Q.b)(),n=Un(),i=Object(Q.c)((function(e){return e.common.toggleEditFormDrawer})),o=Object(Q.c)((function(e){return e.workshops.editWorkshopResponse})),c=Object(Q.c)((function(e){return e.workshops.editWorkshopLoading})),l=Object(Q.c)((function(e){return e.workshops.deleteWorkshopLoading})),d=Object(r.useState)({}),u=Object(x.a)(d,2),m=u[0],h=u[1],b=Object(r.useState)({}),O=Object(x.a)(b,2),f=O[0],y=O[1],v=Object(r.useState)(!1),C=Object(x.a)(v,2),N=C[0],E=C[1],M=function(){h({}),y({}),E(!1)},L=function(e){h(Object(s.a)(Object(s.a)({},m),{},Object(g.a)({},e.target.id,e.target.value)))},A=function(e){if(e.preventDefault(),m.name&&Ae(m.name)){var n=Te;n.id=i.ID,n.name=m.name,function(e,t){e({type:R.editWorkshopLoading});var n=JSON.stringify(t),a={method:"patch",url:$.server+"/Workshop",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:R.editOrDeleteWorkshop,payload:{response:Math.random()+1}})}),Tn):In()(a).then((function(t){200!==t.status&&201!==t.status||e({type:R.editOrDeleteWorkshop,payload:{response:Math.random()+1}})})).catch((function(t){return En(t,e,R)}))}(t,n)}else y(Object(s.a)(Object(s.a)({},f),{},{name:"Name is required."}))},k=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var n=Se;n.id=i.ID,function(e,t){e({type:R.deleteWorkshopLoading});var n=JSON.stringify(t),a={method:"delete",url:$.server+"/Workshop",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:R.editOrDeleteWorkshop,payload:{response:Math.random()+1}})}),Tn):In()(a).then((function(t){200!==t.status&&201!==t.status||e({type:R.editOrDeleteWorkshop,payload:{response:Math.random()+1}})})).catch((function(t){return En(t,e,R)}))}(t,n)}},S=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(M(),gt(t))};return Object(r.useEffect)((function(){o>0&&E(!0)}),[o]),Object(r.useEffect)((function(){N&&setTimeout((function(){gt(t),M(),window.location.href=e.url}),2e3)}),[N,t,e]),$.featureTemporarilyUnavailable?Object(a.jsx)(Gn,{open:i.open,message:"This feature is temporarily unavailable.",onClose:function(e){return gt(t)}}):Object(a.jsx)(Sn.a,{open:i.open,anchor:"right",onClose:function(e){return S()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Edit"}),Object(a.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:function(e){return e.preventDefault()},children:[N?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:f.name?f.name:i.name,color:f.name?"secondary":"primary",onKeyPress:function(e){return L(e)},onChange:function(e){return L(e)},autoComplete:"off",focused:!0}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(e){return A(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return S()},children:"Cancel"}),Object(a.jsx)("hr",{className:n.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,color:"secondary",onClick:function(e){return k(e)},children:"Delete"})]})]})})})},Hn=n(110),Vn=n.n(Hn);function Yn(){return Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"50vh"},children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(Vn.a,{type:"Bars",height:50,width:50,color:m.TEAL[500]})})})})}var qn=Object(S.a)((function(e){return qe()})),Kn=function(e){var t=qn(),n=Object(Q.b)(),i=Object(Q.c)((function(e){return e.workshops.allWorkshops})),o=Object(Q.c)((function(e){return e.auth.user})),c=Object(Q.c)((function(e){return e.workshops.workshopsLoading}));Object(r.useEffect)((function(){!function(e,t){e({type:R.workshopsLoading});var n={method:"get",url:$.server+"/workshops",headers:{}};$.showMockData?setTimeout((function(){e({type:R.getAllWorkshops,payload:kn.getAllWorkshops})}),Tn):In()(n).then((function(n){var a=n.data;if(Ae(a)){var r=n.data.filter((function(e){return e})),i=$.users.map((function(e){return e.name===t?e:null}));i=i.filter((function(e){return e})).pop();var o=r.map((function(e){return e._id===i.workshopID?e:null}));o=o.filter((function(e){return e})),e({type:R.getAllWorkshops,payload:o})}else console.log("error: unexpected response",a)})).catch((function(t){return En(t,e,R)}))}(n,o)}),[n,o]);var s=Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(Dn,{list:e.navigationList})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(u.a,{container:!0,spacing:1,justify:"flex-start",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(ve.a,{placement:"top",title:"Add",children:Object(a.jsx)(p.a,{className:t.button,variant:"contained",onClick:function(e){return ft(n)},children:Object(a.jsx)(Le.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})})})})})]}),l=Ae(i)||c?null:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,justify:"center",alignItems:"center",style:{height:"70vh"},spacing:4,children:Object(a.jsx)(Bn,{message:"No workshops have been added yet."})})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:s}),Object(a.jsx)(u.a,{item:!0,xs:12,children:c?Object(a.jsx)(Yn,{}):Object(a.jsx)(fn,{allWorkshops:i})}),l]}),Object(a.jsx)(Zn,{url:e.match.url,params:e.match.params}),Object(a.jsx)(zn,{url:e.match.url,params:e.match.params})]})},Jn=200;function Xn(e){return Object(a.jsxs)(u.a,{container:!0,spacing:2,children:[$.showDashboardSummaryHeaders?Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,spacing:2,children:pn().map((function(e,t){return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:Jn+t*Jn}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:2,md:4,sm:6,xs:12,children:Object(a.jsx)(Et,{data:e})},t)}),t)}))})}):null,Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:e.allZonesInAWorkshop.map((function(e,t){return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:Jn+t*Jn}),{},{children:Object(a.jsx)(u.a,{item:!0,xl:3,lg:4,md:3,sm:6,xs:12,children:$.showDashboardSummaryCards?Object(a.jsx)(Dt,{data:{name:e.name,ID:e._id,mapping:!1,status:Gt(),info1:Pt(),info2:Zt(),gaugeItem1:Ut(),gaugeItem2:zt()}}):Object(a.jsx)(wt,{data:{name:e.name,ID:e._id,mapping:!1}})},t)}),t)}))})})]})}var $n=1e3,Qn=function(e,t){e({type:F.addZoneLoading});var n=JSON.stringify(t),a={method:"post",url:$.server+"/Zone",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:F.addZone,payload:{response:Math.random()+1}})}),$n):In()(a).then((function(t){200!==t.status&&201!==t.status||e({type:F.addZone,payload:{response:Math.random()+1}})})).catch((function(t){return En(t,e,F)}))},ea=function(e,t){e({type:F.editZoneLoading});var n=JSON.stringify(t),a={method:"patch",url:$.server+"/Zone",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:F.editOrDeleteZone,payload:{response:Math.random()+1}})}),$n):In()(a).then((function(t){200!==t.status&&201!==t.status||e({type:F.editOrDeleteZone,payload:{response:Math.random()+1}})})).catch((function(t){return En(t,e,F)}))},ta=Object(S.a)((function(e){return Ke(e)})),na=function(e){var t=Object(Q.b)(),n=ta(),i=Object(Q.c)((function(e){return e.common.toggleAddFormDrawer})),o=Object(Q.c)((function(e){return e.zones.addZoneResponse})),c=Object(Q.c)((function(e){return e.zones.addZoneLoading})),l=Object(r.useState)({}),d=Object(x.a)(l,2),u=d[0],m=d[1],h=Object(r.useState)({}),b=Object(x.a)(h,2),O=b[0],f=b[1],y=Object(r.useState)(!1),v=Object(x.a)(y,2),C=v[0],N=v[1],E=function(){m({}),f({}),N(!1)},M=function(e){m(Object(s.a)(Object(s.a)({},u),{},Object(g.a)({},e.target.id,e.target.value)))},L=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(E(),ft(t))};return Object(r.useEffect)((function(){o>0&&N(!0)}),[o]),Object(r.useEffect)((function(){C&&setTimeout((function(){ft(t),E(),window.location.href=e.url}),2e3)}),[C,t,e]),Object(a.jsx)(Sn.a,{open:i,anchor:"right",onClose:function(e){return L()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Add"}),Object(a.jsxs)("form",{noValidate:!0,className:n.form,onSubmit:function(e){return e.preventDefault()},children:[C?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:O.name,color:O.name?"secondary":"primary",onKeyPress:function(e){return M(e)},onChange:function(e){return M(e)},autoComplete:"off",focused:!0}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(n){return function(n){if(n.preventDefault(),u.name&&Ae(u.name)){var a=Re;a.name=u.name,a.workshop_id=e.params.workshopID,Qn(t,a)}else f(Object(s.a)(Object(s.a)({},O),{},{name:"Name is required."}))}(n)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return L()},children:"Cancel"})]})]})})})},aa=Object(S.a)((function(e){return Ke(e)})),ra=function(e){var t=Object(Q.b)(),n=aa(),i=Object(Q.c)((function(e){return e.common.toggleEditFormDrawer})),o=Object(Q.c)((function(e){return e.zones.editZoneResponse})),c=Object(Q.c)((function(e){return e.zones.editZoneLoading})),l=Object(Q.c)((function(e){return e.zones.deleteZoneLoading})),d=Object(r.useState)({}),u=Object(x.a)(d,2),m=u[0],h=u[1],b=Object(r.useState)({}),O=Object(x.a)(b,2),f=O[0],y=O[1],v=Object(r.useState)(!1),C=Object(x.a)(v,2),N=C[0],E=C[1],M=function(){h({}),y({}),E(!1)},L=function(e){h(Object(s.a)(Object(s.a)({},m),{},Object(g.a)({},e.target.id,e.target.value)))},A=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var n=We;n.id=i.ID,function(e,t){e({type:F.deleteZoneLoading});var n=JSON.stringify(t),a={method:"delete",url:$.server+"/Zone",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:F.editOrDeleteZone,payload:{response:Math.random()+1}})}),$n):In()(a).then((function(t){200!==t.status&&201!==t.status||e({type:F.editOrDeleteZone,payload:{response:Math.random()+1}})})).catch((function(t){return En(t,e,F)}))}(t,n)}},k=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(M(),gt(t))};return Object(r.useEffect)((function(){o>0&&E(!0)}),[o]),Object(r.useEffect)((function(){N&&setTimeout((function(){gt(t),M(),window.location.href=e.url}),2e3)}),[N,t,e]),Object(a.jsx)(Sn.a,{open:i.open,anchor:"right",onClose:function(e){return k()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Edit"}),Object(a.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:function(e){return e.preventDefault()},children:[N?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:f.name?f.name:i.name,color:f.name?"secondary":"primary",onKeyPress:function(e){return L(e)},onChange:function(e){return L(e)},autoComplete:"off",focused:!0}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(e){return function(e){if(e.preventDefault(),m.name&&Ae(m.name)){var n=Fe;n.id=i.ID,n.name=m.name,ea(t,n)}else y(Object(s.a)(Object(s.a)({},f),{},{name:"Name is required."}))}(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return k()},children:"Cancel"}),Object(a.jsx)("hr",{className:n.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,color:"secondary",onClick:function(e){return A(e)},children:"Delete"})]})]})})})},ia=Object(S.a)((function(e){return qe()})),oa=function(e){var t=ia(),n=Object(Q.b)(),i=Object(Q.c)((function(e){return e.zones.allZonesInAWorkshop})),o=Object(Q.c)((function(e){return e.zones.zonesLoading}));Object(r.useEffect)((function(){!function(e,t){e({type:F.zonesLoading});var n={method:"get",url:$.server+"/zones",headers:{}};$.showMockData?setTimeout((function(){e({type:F.getAllZonesInAWorkshop,payload:{allZonesInAWorkshop:kn.getAllZones,workshopID:t}})}),$n):In()(n).then((function(n){if(Ae(n.data)){var a=n.data.filter((function(e){return e})).map((function(e){return e.workshop_id===t?e:null}));Ae(a)?(a=a.filter((function(e){return e})),e({type:F.getAllZonesInAWorkshop,payload:{allZonesInAWorkshop:a,workshopID:t}})):console.log("error: unexpected response",a)}else console.log("error: unexpected response",n.data)})).catch((function(t){return En(t,e,F)}))}(n,e.match.params.workshopID)}),[n,e]);var c=Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(Dn,{list:e.navigationList})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(u.a,{container:!0,spacing:1,justify:"flex-start",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(ve.a,{placement:"top",title:"Add",children:Object(a.jsx)(p.a,{className:t.button,variant:"contained",onClick:function(e){return ft(n)},children:Object(a.jsx)(Le.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})})})})})]}),s=Ae(i)||o?null:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,justify:"center",alignItems:"center",style:{height:"70vh"},spacing:4,children:Object(a.jsx)(Bn,{message:"No zones have been added yet."})})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:c}),Object(a.jsx)(u.a,{item:!0,xs:12,children:o?Object(a.jsx)(Yn,{}):Object(a.jsx)(Xn,{allZonesInAWorkshop:i})}),s]}),Object(a.jsx)(na,{url:e.match.url,params:e.match.params}),Object(a.jsx)(ra,{url:e.match.url,params:e.match.params})]})},ca=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},sa=ca(20,100),la=function(e){switch(ca(0,2)){case 0:return"OFF";case 1:return"IDLE";case 2:return"ON";default:return"OFF"}},da=function(){for(var e=[],t=576;t>=1;t--){var n=Date.now()+0,a=String(new Date(n-3e5*t)),r=ca(0,sa),i=la(),o=ca(0,86400),c=ca(0,80),s=ca(0,100);e.push({load_current:r,status:i,machine_state_duration:o,temperature:c,humidity:s,timestamp:a})}return e},ua=n(176),ja=n.n(ua),ma=Object(S.a)((function(e){return qe()}));function ha(e){var t=e.data,n=t.icon,r=t.values,i=ma();return Object(a.jsxs)(u.a,{container:!0,component:b.a,direction:"row",justify:"center",alignItems:"center",elevation:2,style:{padding:12,height:"100%"},className:i.cardHover,children:[Object(a.jsx)(u.a,{item:!0,xs:2,children:Object(a.jsx)(b.a,{style:Xe.iconPaper,elevation:0,children:n})}),Object(a.jsx)(u.a,{item:!0,xs:10,children:Object(a.jsx)(b.a,{style:Xe.textPaper,elevation:0,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:"auto",children:Object(a.jsx)(j.a,{align:"center",variant:"h6",children:r.primary})}),Object(a.jsx)(u.a,{item:!0,xs:"auto",children:Object(a.jsx)(j.a,{align:"center",variant:"body1",style:{color:m.BLUEGREY[600]},children:r.secondary})})]})})})]})}var ba=n(173),pa=n.n(ba),Oa=Object(S.a)((function(e){return qe()})),fa=function(e){var t=Oa(),n=e.data,r=n.lastUpdateTimestamp,i=n.liveData,o=Ae(i),c=o?Object(a.jsx)(Vn.a,{type:"Bars",height:20,color:m.TEAL[700],style:{marginBottom:-5,marginRight:-20,marginLeft:-20}}):Object(a.jsx)(pa.a,{style:{width:20,color:m.TEAL[700]}}),s=Object(a.jsx)(j.a,{align:"center",variant:"body2",style:{color:m.BLUEGREY[600]},children:o?"Receiving Real-time Updates...":"Last Updated: "}),l=Object(a.jsx)(j.a,{align:"center",variant:"body2",style:{color:m.BLUEGREY[800]},children:o?null:r});return Object(a.jsxs)(u.a,{container:!0,component:b.a,direction:"row",justify:"center",alignItems:"center",elevation:2,style:{padding:12,height:"100%"},className:t.cardHover,children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(b.a,{style:Xe.iconPaper,elevation:0,children:c})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(b.a,{style:Xe.textPaper,elevation:0,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:"auto",children:s}),Object(a.jsx)(u.a,{item:!0,xs:"auto",children:l})]})})})]})},ga=n(175),xa=n.n(ga),ya=n(174),va=n.n(ya);function _a(e){var t=e.data,n=t.liveData,r=t.currentNow,i=t.lastUpdateTimestamp,o=t.stateNow,c=t.stateNowDuration,l=t.unitsConsumed,d=t.timeFilter,j={liveData:n,lastUpdateTimestamp:i},h={icon:"ON"===o?Object(a.jsx)(Qt.a,{style:{color:m.GREEN[700],height:40}}):"IDLE"===o?Object(a.jsx)(Xt.a,{style:{color:m.TEAL[700],height:40}}):Object(a.jsx)(tn.a,{style:{color:m.RED[700],height:40}}),values:{primary:o,secondary:c}},b={icon:Object(a.jsx)(va.a,{size:"small",style:{color:m.INDIGO[700],height:40}}),values:{primary:r+" A",secondary:i}},p={icon:Object(a.jsx)(xa.a,{size:"small",style:{color:m.PURPLE[700],height:40}}),values:{primary:l+" kwh",secondary:d}};return Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",spacing:2,children:[Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:200}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,sm:6,xs:12,children:Object(a.jsx)(fa,{data:j})})})),Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:400}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,sm:6,xs:12,children:Object(a.jsx)(ha,{data:h})})})),Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:800}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,sm:6,xs:12,children:Object(a.jsx)(ha,{data:b})})})),Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:1e3}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,sm:6,xs:12,children:Object(a.jsx)(ha,{data:p})})}))]})}st()(rt.a),ot()(rt.a);var Ca={high:5,normal:4,low:2},Na=function(e){var t,n,a,r,i=(t=e.value,n=e.thresholds,a=Ca,t>=n.high?a.high:t>=n.low?a.normal:t<n.low?a.low:at.color.low);return{chart:{type:"solidgauge",height:130,width:130},title:{text:null},tooltip:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},pane:{startAngle:0,endAngle:360,background:{outerRadius:110,innerRadius:0,backgroundColor:"none",borderWidth:0}},yAxis:[{min:0,lineWidth:0,tickPositions:[]}],plotOptions:{solidgauge:{linecap:"round",rounded:!0}},series:[(r=i,{data:[{color:rt.a.color(rt.a.getOptions().colors[r]).setOpacity(.2).get(),radius:110,innerRadius:85,y:100}],dataLabels:{enabled:!1},enableMouseTracking:!1}),{data:[{color:rt.a.getOptions().colors[i],radius:110,innerRadius:85,y:e.value}],dataLabels:{enabled:!0,y:-12,format:"{y} "+e.suffix,borderWidth:0,backgroundColor:"none",color:rt.a.getOptions().colors[i],shadow:!1,style:{textOutline:"none"}},enableMouseTracking:!0}]}},Da=function(e){var t=e.item1,n=Object(r.useState)(Na(t)),o=Object(x.a)(n,2),c=o[0],s=o[1];return i.a.useEffect((function(){var t=e.item1;s(Na(t))}),[e]),Object(a.jsx)(dt.a,{highcharts:rt.a,options:c})},wa=Object(S.a)((function(e){return qe()})),Ia={high:m.RED[700],normal:m.INDIGO[700],low:m.GREEN[700]},Ea=function(e,t,n){return e>=t.high?n.high:e>=t.low?n.normal:(t.low,n.low)},Ma={height:15,paddingTop:5};function La(e){var t=wa(),n=e.data,r=n.title,i=n.gaugeValue,o=n.gaugeUnit,c=n.thresholds,s=n.maxTitle,l=n.maxValue,d=n.minTitle,h=n.minValue,p={value:i,suffix:o,thresholds:c},O=function(e,t,n,r){return Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{variant:"caption",style:{color:m.BLUEGREY[600]},align:"left",children:e})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body2",align:"left",style:{color:n},children:t})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body2",align:"left",style:{color:n},children:r})})]})})]})};return Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",component:b.a,elevation:2,style:{paddingTop:10},className:t.cardHover,children:[Object(a.jsx)(u.a,{item:!0,xs:7,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{variant:"body2",style:{color:m.BLUEGREY[600]},align:"center",children:r})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(Da,{item1:p})})]})}),Object(a.jsx)(u.a,{item:!0,xs:5,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",spacing:2,style:{paddingLeft:15,paddingTop:15},children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:O(s,l,Ea(l,c,Ia),Object(a.jsx)(on.a,{style:Ma}))}),Object(a.jsx)(u.a,{item:!0,xs:12,children:O(d,h,Ea(h,c,Ia),Object(a.jsx)(an.a,{style:Ma}))})]})})]})}function Aa(e){var t=e.data,n=t.operationCount,r={title:"Utilization",gaugeValue:t.utilization,gaugeUnit:" %",maxTitle:"Uptime",minTitle:"Downtime",maxValue:t.uptime,minValue:t.downtime,thresholds:{high:66,low:33}},i={title:"Operation Count",gaugeValue:n,gaugeUnit:"",maxTitle:"Maximum",minTitle:"Minimum",maxValue:100,minValue:0,thresholds:{high:66,low:33}},o={title:"Temperature",gaugeValue:t.temperatureNow,gaugeUnit:" \xb0C",maxTitle:"Maximum",minTitle:"Minimum",maxValue:t.temperatureMax,minValue:t.temperatureMin,thresholds:{high:66,low:33}},c={title:"Humidity",gaugeValue:t.humidityNow,gaugeUnit:" %RH",maxTitle:"Maximum",minTitle:"Minimum",maxValue:t.humidityMax,minValue:t.humidityMin,thresholds:{high:66,low:33}};return Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:1200}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,sm:6,xs:12,children:Object(a.jsx)(La,{data:r})})})),Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:1400}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,sm:6,xs:12,children:Object(a.jsx)(La,{data:i})})})),Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:1600}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,sm:6,xs:12,children:Object(a.jsx)(La,{data:o})})})),Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:1800}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,sm:6,xs:12,children:Object(a.jsx)(La,{data:c})})}))]})}var ka=n(128),Ta=n.n(ka),Sa={second:"%l:%M:%S %P",minute:"%l:%M %P",hour:"%l %P",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},Ra=function(e){var t=Object(r.useState)({chart:{height:e.large?500:300,margin:[25,25,25,25],renderTo:"container",zoomType:"x",borderRadius:10},tooltip:{valueDecimals:2},time:{useUTC:!1},credits:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:Sa,gridLineWidth:0,lineWidth:0,minorGridLineWidth:0,tickColor:"rgb(0,0,0,0)"},scrollbar:{barBackgroundColor:"white",barBorderRadius:1,barBorderWidth:1,buttonBackgroundColor:"white",buttonBorderWidth:1,buttonArrowColor:"rgba(0,0,0,0.4)",buttonBorderRadius:1,rifleColor:"rgba(0,0,0,0.4)",trackBackgroundColor:"white",trackBorderWidth:1,trackBorderColor:"rgba(0,0,0,0.2)",trackBorderRadius:1},navigator:{height:30,handles:{backgroundColor:"rgb(0,0,0,0)",borderColor:"rgb(0,0,0,0)"},outlineColor:"rgba(0,0,0,0)",maskFill:"rgba(0,0,0,0.2)",xAxis:{gridLineWidth:0,dateTimeLabelFormats:Sa}},rangeSelector:{inputEnabled:!1,verticalAlign:"bottom",x:0,y:0,allButtonsEnabled:!0,buttonPosition:{align:"center",x:0,y:0},buttons:[{type:"all",text:"All"},{type:"day",count:1,text:"1 Day"},{type:"hour",count:1,text:"1 Hour"},{type:"minute",count:5,text:"5 Min"}],selected:2,buttonTheme:{width:45}}}),n=Object(x.a)(t,2),i=n[0],o=n[1];return Object(r.useEffect)((function(){var t=e.chartData?e.chartData:{series:[],timestamps:[],name:"",step:"",decimal:0,color:"#ffffff"},n=t.series,a=t.timestamps,r=t.name,i=t.step,c=t.color,s=t.yMax,l=t.yMin,d=t.type,u=t.yLabels,j=e.chartData,m=j.series2,h=j.series2Name,b=j.series2Color,p=e.chartData,O=p.series3,f=p.series3Name,g=p.series3Color;o({yAxis:[{min:l||0,max:s||Math.max.apply(Math,Object(Kt.a)(n)),categories:u}],series:[{data:function(){var e,t=a,r=n,i=[];for(e=0;e<t.length;++e)i.push([t[e],r[e]]);return i}(),step:i,name:r,type:d||"areaspline",color:c,fillColor:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,c],[.6,Ta.a.color(c).setOpacity(.1).get("rgba")]]},threshold:null,enableMouseTracking:!0},m?{data:function(){var e,t=a,n=m||[],r=[];for(e=0;e<t.length;++e)r.push([t[e],n[e]]);return r}(),name:h||"",type:"line",color:b,threshold:null}:{},O?{data:function(){var e,t=a,n=O||[],r=[];for(e=0;e<t.length;++e)r.push([t[e],n[e]]);return r}(),name:f||"",type:"line",color:g,threshold:null}:{}]})}),[e]),Object(a.jsx)(dt.a,{highcharts:Ta.a,constructorType:"stockChart",options:i})},Fa=Object(S.a)((function(e){return qe()}));function Wa(e){var t=Fa(),n=e.lineCharts,i=n.machineCurrent,o=n.machineState,c=n.machinePower,l=n.temperature,d=n.humidity,h=Object(r.useState)(0),O=Object(x.a)(h,2),f=O[0],g=O[1],y=[i,o,c,l,d],v=["Current (A)","State","Power (W)","Temperature (C)","Humidity (%RH)"],_=y.map((function(e,t){var n=e.color,r=m.BLUEGREY[200],i=m.BLUEGREY[500],o=t===f?"white":i,c=t===f?n:r;return Object(a.jsx)(u.a,{item:!0,lg:2,md:4,sm:6,xs:12,children:Object(a.jsx)(ve.a,{title:"Switch Between Charts",placement:"top",children:Object(a.jsx)(p.a,{fullWidth:!0,style:{color:o,backgroundColor:c,padding:0},onClick:function(e){return g(t)},children:Object(a.jsx)(j.a,{variant:"caption",style:{padding:3,color:o},children:v[t]})})})},t)})),C=y.map((function(e,t){return Object(a.jsx)(Ra,{chartData:e})}));return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:2e3}),{},{children:Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",component:b.a,elevation:2,className:t.cardHover,children:[Object(a.jsx)(u.a,{item:!0,xs:12,style:{paddingTop:15,paddingLeft:15,paddingRight:15,paddingBottom:30},children:Object(a.jsx)(u.a,{container:!0,spacing:1,justify:"center",alignItems:"center",children:_})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:C[f]})]})}))}var Ba=n(342),Ga=n(293),Pa=n(291),Za=Object(S.a)((function(e){return qe()})),Ua=["Disabled"];function za(e){var t=Object(Q.b)(),n=e.options,o=e.selected,c=e.icon,l=Za(),d=i.a.useState(!1),u=Object(x.a)(d,2),m=u[0],h=u[1],O=i.a.useRef(null),f=i.a.useState(n||Ua),g=Object(x.a)(f,1)[0],y=i.a.useState(o||Ua[0]),v=Object(x.a)(y,2),_=v[0],C=v[1],N=function(e,t){O.current&&O.current.contains(e.target)||(h(!1),t&&C(t))};function D(e){"Tab"===e.key&&(e.preventDefault(),h(!1))}var I=i.a.useRef(m);return Object(r.useEffect)((function(){!0===I.current&&!1===m&&O.current.focus(),I.current=m}),[m]),Object(r.useEffect)((function(){switch(e.type){case U:!function(e,t){e({type:U,payload:{machinesOrNodesFilter:t}})}(t,_);break;case P:!function(e,t){e({type:P,payload:{timeFilter:t}})}(t,_)}}),[_,t,e]),Object(a.jsxs)("span",{children:[Object(a.jsxs)(p.a,{ref:O,"aria-controls":m?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){h((function(e){return!e}))},className:l.button,variant:"contained",children:[c||null,Object(a.jsx)(j.a,{variant:"caption",style:e.width?{width:e.width}:{},children:_})]}),Object(a.jsx)(Ga.a,{open:m,anchorEl:O.current,role:void 0,transition:!0,disablePortal:!0,className:l.popper,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(a.jsx)(b.a,{children:Object(a.jsx)(Ba.a,{onClickAway:function(e){return N(e,null)},children:Object(a.jsx)(Pa.a,{autoFocusItem:m,id:"menu-list-grow",onKeyDown:D,children:g.map((function(e,t){return Object(a.jsx)(Qe.a,{onClick:function(t){return N(t,e)},children:Object(a.jsx)(j.a,{variant:"overline",children:e})},t)}))})})})}))}})]})}var Ha=n(111),Va=n.n(Ha),Ya=Va()($.server,{transports:["websocket"]}),qa={machineCurrent:m.GREEN[500],machineState:m.PURPLE[500],machinePower:m.YELLOW[500],temperature:m.ORANGE[500],humidity:m.BLUE[500]},Ka=["Last Hour","Last 12 Hours","Last Day"],Ja=Object(S.a)((function(e){return qe()}));function Xa(e){var t=Ja(),n=Object(Q.b)(),i=e.match.params.machineID,o=Object(r.useState)(Ka[0]),c=Object(x.a)(o,2),s=c[0],l=c[1],d=Object(r.useState)(null),j=Object(x.a)(d,2),h=j[0],b=j[1],p=Object(Q.c)((function(e){return e.machineDetails.machineLoading})),O=Object(Q.c)((function(e){return e.common.timeFilter})),f=Object(Q.c)((function(e){return e.machineDetails.data})),g=Object(Q.c)((function(e){return e.machineDetails.noStoredMachineDataResponse})),y=function(e,t){var n=0===t?1:1===t?12:2===t?24:1,a=e instanceof Array&&e.length>0?e:null,r=[],i=0,o=0,c=0,s=[],l=0,d=0,u=0,j=[],m=0,h=0,b=0,p=[],O=0,f=[],g=0,x=[],y="Unknown",v="Unknown",_=0,C="Unknown",N="Unknown",D=0;if(a)try{var w=a.slice(-1)[0];o=(r=a.map((function(e){return Date.parse(e.timestamp)})))[0],i=r.slice(-1)[0],c=mn(n,i);var I=r.map((function(e){return e>c?e:null})).filter((function(e){return e})).length,E=(s=a.map((function(e){return e.temperature}))).slice(-I);l=w.temperature,d=Math.max.apply(Math,Object(Kt.a)(E)),u=Math.min.apply(Math,Object(Kt.a)(E));var M=(j=a.map((function(e){return e.humidity}))).slice(-I);m=w.humidity,h=Math.max.apply(Math,Object(Kt.a)(M)),b=Math.min.apply(Math,Object(Kt.a)(M)),p=a.map((function(e){return e.load_current})),O=w.load_current;var L=(f=p.map((function(e){return 658.16*e}))).slice(-I);g=Math.round(un(L)/1e3*n),x=a.map((function(e){return e.status})).map((function(e){return"OFF"===e?0:"IDLE"===e?1:"ON"===e?2:0})),v=w.status,y=jn(1e3*w.machine_state_duration,0);var A=x.slice(-I),k=0,T=0;A.map((function(e,t){return 2===e?(1!==A[t+1]&&0!==A[t+1]||D++,k++):T++,t})),_=Math.round(k/A.length*100),C=ln(Math.round(k/12)),N=ln(Math.round(T/12))}catch(S){console.log(S)}return{timestamps:r,timestampEnd:i,timestampStart:o,timestampStartFilter:c,temperature:s,temperatureNow:l,temperatureMax:d,temperatureMin:u,humidity:j,humidityNow:m,humidityMax:h,humidityMin:b,loadCurrent:p,currentNow:O,instantPower:f,unitsConsumed:g,machineState:x,stateNowDuration:y,stateNow:v,utilization:_,uptime:C,downtime:N,operationCount:D}}(Ae(f)?Ae(h)?[].concat(Object(Kt.a)(f),[h]):f:[],Ka.indexOf(s));Object(r.useEffect)((function(){l(O)}),[O]),Object(r.useEffect)((function(){!function(e,t){e({type:G.machineLoading});var n={method:"get",url:$.server+"/data/"+t,headers:{"Content-Type":"application/json"}};console.log(n.url),$.showMockData?setTimeout((function(){e({type:G.getMachineDataByID,payload:{ID:t,data:da()}})}),1e3):In()(n).then((function(n){var a=n.data;200===n.status||201===n.status?Ae(a)?e({type:G.getMachineDataByID,payload:{ID:t,data:a}}):e({type:G.noStoredMachineDataResponse,payload:{ID:t}}):console.log(n.status)})).catch((function(t){return En(t,e,G)}))}(n,i)}),[n,i]),Object(r.useEffect)((function(){$.showMockData||Ya.emit("send-data-demo-machine",{_id:i}),$.showMockData?setInterval((function(){b(function(){var e=String(new Date);return{load_current:ca(0,sa),status:la(),machine_state_duration:ca(0,86400),temperature:ca(0,80),humidity:ca(0,100),timestamp:e}}())}),5e3):Ya.on("data-demo-machine-".concat(i),(function(e){try{b(e||null)}catch(t){b(null),console.log(t)}}))}),[i]);var v=y.timestamps,_=y.timestampEnd,C=y.temperature,N=y.temperatureNow,D=y.temperatureMax,w=y.temperatureMin,I=y.humidity,E=y.humidityNow,M=y.humidityMax,L=y.humidityMin,A=y.loadCurrent,k=y.currentNow,T=y.instantPower,S=y.unitsConsumed,R=y.machineState,F=y.stateNowDuration,W=y.stateNow,B=y.utilization,Z=y.uptime,U=y.downtime,z=y.operationCount,H=new Date(_).toLocaleTimeString("en-US"),V={machineState:{series:R,timestamps:v,name:"State",color:qa.machineState,yLabels:["OFF","IDLE","ON"],yMax:3,type:"line",step:"center"},machinePower:{series:T,timestamps:v,name:"Power",color:qa.machinePower},machineCurrent:{series:A,timestamps:v,name:"Current",color:qa.machineCurrent},temperature:{series:C,timestamps:v,name:"Temperature",color:qa.temperature},humidity:{series:I,timestamps:v,name:"Humidity",color:qa.humidity}},Y=Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(Dn,{list:e.navigationList})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(u.a,{container:!0,spacing:1,justify:"flex-start",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(za,{width:100,options:Ka,selected:s,type:P,icon:Object(a.jsx)(ja.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})})})})]}),q=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Y}),Object(a.jsx)(Yn,{})]}),K=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Y}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(_a,{data:{currentNow:k,lastUpdateTimestamp:H,stateNow:W,stateNowDuration:F,unitsConsumed:S,timeFilter:s,liveData:h}})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(Aa,{data:{operationCount:z,utilization:B,uptime:Z,downtime:U,temperatureNow:N,temperatureMax:D,temperatureMin:w,humidityNow:E,humidityMax:M,humidityMin:L}})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(Wa,{lineCharts:V})})]}),J=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Y}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,justify:"center",alignItems:"center",style:{height:"70vh"},spacing:4,children:Object(a.jsx)(Bn,{message:"No data has been stored yet for this machine"})})})]});return p?q:null!==g?J:K}var $a=n(177),Qa=n.n($a),er=n(178),tr=n.n(er),nr=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},ar={width:15,paddingRight:3},rr=function(){var e=nr(0,2);return{name:function(e){switch(e){case 0:return"Off";case 1:return"Idle";case 2:return"Active";default:return"Off"}}(e),change:e,value:nr(0,60)+" min",icon:function(e){switch(e){case 0:return Object(a.jsx)(tn.a,{style:ar});case 1:return Object(a.jsx)(Xt.a,{style:ar});case 2:return Object(a.jsx)(Qt.a,{style:ar});default:return Object(a.jsx)(tn.a,{style:ar})}}(e),thresholds:{high:1.5,low:1}}},ir=function(){var e=nr(0,60);return{name:"Uptime",change:e,value:e+" min",icon:Object(a.jsx)(on.a,{style:ar}),thresholds:{high:40,low:20}}},or=function(){var e=nr(0,60);return{name:"Downtime",change:e,value:e+" min",icon:Object(a.jsx)(an.a,{style:ar}),thresholds:{high:40,low:20}}},cr=200;function sr(e){return Object(a.jsxs)(u.a,{container:!0,spacing:2,children:[$.showMockData?Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,spacing:2,children:pn().map((function(e,t){return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:cr+t*cr}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:2,md:4,sm:6,xs:12,children:Object(a.jsx)(Et,{data:e})},t)}),t)}))})}):null,Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:e.allMachinesInAZone.map((function(t,n){return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:cr+n*cr}),{},{children:Object(a.jsx)(u.a,{item:!0,xl:3,md:4,xs:12,children:$.showMockData?Object(a.jsx)(Dt,{compact:e.compact,data:{name:t.name,ID:t._id,mapping:!0,status:rr(),info1:ir(),info2:or(),gaugeItem1:{name:"Utilization",value:Math.round(100*Math.random()),suffix:"%",thresholds:{high:66,low:33},icon:Object(a.jsx)(St.a,{style:ar}),yMax:100},gaugeItem2:{name:"Units",value:Math.round(100*Math.random()),suffix:"KWh",thresholds:{high:66,low:33},icon:Object(a.jsx)(Ft.a,{style:ar}),yMax:100}}}):Object(a.jsx)(Dt,{compact:e.compact,data:sn(t)})},n)}),n)}))})})]})}var lr=Object(S.a)((function(e){return qe()})),dr=function(e){var t=lr(),n=Object(Q.b)(),r=e.data,o=r.name,c=r.ID,s=r.sensor1,l=r.sensor2,d=i.a.useState(null),h=Object(x.a)(d,2),O=h[0],f=h[1],g=function(){f(null)},y={sensor:s?s.Sensor_Number:l?3-l.Sensor_Number:1,machine:s?s.Machine_Name:"Not connected"},v={sensor:l?l.Sensor_Number:s?3-s.Sensor_Number:2,machine:l?l.Machine_Name:"Not connected"};return Object(a.jsx)(b.a,{elevation:2,style:{padding:10},className:t.cardHover,children:Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:10,children:Object(a.jsx)(ve.a,{title:"MAC Address",placement:"top",children:Object(a.jsx)(p.a,{disableRipple:!0,children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:o})})})}),Object(a.jsxs)(u.a,{item:!0,xs:"auto",children:[Object(a.jsx)(ve.a,{title:"Settings",placement:"top",children:Object(a.jsx)(nt.a,{onClick:function(e){f(e.currentTarget)},children:Object(a.jsx)(tt.a,{className:t.iconButton})})}),Object(a.jsx)($e.a,{id:"settingsMenu",anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:g,children:Object(a.jsxs)(Qe.a,{onClick:function(){g(),gt(n,c,o)},children:[Object(a.jsx)(bt.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Edit"})]})})]}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,children:Object(a.jsxs)(u.a,{item:!0,xs:12,children:[Object(a.jsxs)(u.a,{container:!0,justify:"space-between",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(j.a,{variant:"body2",style:{color:m.BLUEGREY[600],padding:10,display:"inline-block"},children:["Sensor ",y.sensor]})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body2",style:{color:m.TEAL[600],padding:10,display:"inline-block"},children:y.machine})})]}),Object(a.jsxs)(u.a,{container:!0,justify:"space-between",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(j.a,{variant:"body2",style:{color:m.BLUEGREY[600],padding:10,display:"inline-block"},children:["Sensor ",v.sensor]})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body2",style:{color:m.TEAL[600],padding:10,display:"inline-block"},children:v.machine})})]})]})})})]})})};function ur(e){var t=e.allNodesInAZone,n=Object.keys(t);return Object(a.jsx)(u.a,{container:!0,children:Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:n.map((function(e,n){return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:200+200*n}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:3,md:4,xs:12,children:Object(a.jsx)(dr,{data:{name:e,sensor1:t[e][0],sensor2:t[e][1]}})},n)}),n)}))})})})}var jr=1e3,mr=function(e,t){e({type:B.nodesLoading});var n={method:"get",url:$.server+"/Zone/Node_Machine_Data/"+t,headers:{"Content-Type":"application/json"}};$.showMockData?setTimeout((function(){e({type:B.getAllNodesInAZone,payload:{allNodesInAZoneProfiles:kn.getAllNodes,allNodesInAZone:kn.getAllNodeToMachineMappingInAZone,zoneID:t}})}),jr):In()(n).then((function(n){var a=n.data;if(Ae(a)){var r=a,i={method:"get",url:$.server+"/nodes",headers:{"Content-Type":"application/json"}};In()(i).then((function(n){var a=n.data;if(Ae(a)){var i=a.filter((function(e){return e})),o=Object.keys(r).map((function(e){for(var t=0;t<i.length;t++)if(e===i[t].mac)return i[t];return null}));o=o.filter((function(e){return e})),e({type:B.getAllNodesInAZone,payload:{allNodesInAZoneProfiles:o,allNodesInAZone:r,zoneID:t}})}else console.log("error: unexpected response",a)})).catch((function(t){return En(t,e,B)}))}else console.log("error: unexpected response",a)})).catch((function(t){return En(t,e,B)}))},hr=n(360),br=Object(S.a)((function(e){return Ke(e)})),pr=function(e){var t=br(),n=Object(Q.b)(),i=Object(Q.c)((function(e){return e.common.toggleAddFormDrawer})),o=Object(Q.c)((function(e){return e.machines.addMachineResponse})),c=Object(Q.c)((function(e){return e.machines.addMachineLoading})),l=Object(Q.c)((function(e){return e.nodes.allNodesInAZone})),d=Object(Q.c)((function(e){return e.nodes.allNodesInAZoneProfiles})),u=Object.keys(l).filter((function(e){return l[e].length<2&&l[e]})),m=Object(r.useState)({name:"",maxLoad:0,idleThreshold:0,MAC:"",sensor:null}),h=Object(x.a)(m,2),b=h[0],O=h[1],f=Object(r.useState)({}),y=Object(x.a)(f,2),v=y[0],C=y[1],N=Object(r.useState)(""),E=Object(x.a)(N,2),M=E[0],L=E[1],A=Object(r.useState)(!1),k=Object(x.a)(A,2),S=k[0],R=k[1],F=function(){O(Object(s.a)(Object(s.a)({},b),{},{name:"",maxLoad:0,idleThreshold:0,MAC:"",sensor:null})),C({}),R(!1)},B=function(e){e.target.id&&(O(Object(s.a)(Object(s.a)({},b),{},Object(g.a)({},e.target.id,e.target.value))),C(Object(s.a)(Object(s.a)({},v),{},Object(g.a)({},e.target.id,null))))},G=function(e){e.preventDefault();var t=Be;t.name=""!==b.name?b.name:null,t.idle_threshold=b.idleThreshold>0?b.idleThreshold:null,t.max_load=parseInt(b.maxLoad)>0?b.maxLoad:null;var a=Ge;if(""!==b.MAC){var r=d.map((function(e){return e.mac===b.MAC?e._id:null}));a.node_id=r.filter((function(e){return e})).pop()}else a.node_id=null;a.sensor_number=1===parseInt(b.sensor)||2===parseInt(b.sensor)?parseInt(b.sensor):null,C(Object(s.a)(Object(s.a)({},v),{},{name:""===b.name?"Cannot be empty.":null,maxLoad:0===parseInt(b.maxLoad)?"Cannot be zero.":null,idleThreshold:0===b.idleThreshold?"Cannot be zero.":null,MAC:""===b.MAC?"Cannot be empty.":null,sensor:1!==parseInt(b.sensor)&&2!==parseInt(b.sensor)?"Cannot be empty.":null})),t.idle_threshold&&t.max_load&&t.name&&a.node_id&&a.sensor_number&&(L(t.name),function(e,t,n){e({type:W.addMachineLoading});var a=JSON.stringify(t),r={method:"post",url:$.server+"/Machine",headers:{"Content-Type":"application/json"},data:a};$.showMockData?setTimeout((function(){e({type:W.addMachine,payload:{response:t}})}),jr):In()(r).then((function(a){if(200===a.status||201===a.status){n.machine_id=a.data._id;var r={method:"post",url:$.server+"/MachineMapping",headers:{"Content-Type":"application/json"},data:JSON.stringify(n)};In()(r).then((function(n){200!==n.status&&201!==n.status||e({type:W.addMachine,payload:{response:t}})})).catch((function(t){return En(t,e,W)}))}})).catch((function(t){return En(t,e,W)}))}(n,t,a))},P=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(F(),ft(n))};return Object(r.useEffect)((function(){o.name===M&&R(!0)}),[o,M]),Object(r.useEffect)((function(){S&&setTimeout((function(){ft(n),F(),window.location.href=e.url}),2e3)}),[S,n,e.url]),Object(a.jsx)(Sn.a,{open:i,anchor:"right",onClose:function(e){return P()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Add Machine"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[S?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:v.name,color:v.name?"secondary":"primary",onChange:function(e){return B(e)},autoComplete:"off",focused:!0}),Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"maxLoad",label:"Maximum Load",name:"maxLoad",color:v.maxLoad?"secondary":"primary",onChange:function(e){return B(e)},autoComplete:"off",focused:!0,defaultValue:0,type:"number",inputProps:{min:0}}),v.maxLoad?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:v.maxLoad}):null,Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:v.idleThreshold?"secondary":b.maxLoad>0?"primary":"textSecondary",children:"Idle Threshold*"}),Object(a.jsx)(hr.a,{disabled:!(b.maxLoad>0),defaultValue:0,min:0,max:parseInt(b.maxLoad),step:1,valueLabelDisplay:"auto",onChange:function(e,t){return function(e,t){O(Object(s.a)(Object(s.a)({},b),{},{idleThreshold:t})),C(Object(s.a)(Object(s.a)({},v),{},{idleThreshold:null}))}(0,t)},color:v.idleThreshold?"secondary":"primary"}),v.idleThreshold?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:v.idleThreshold}):null]}),Object(a.jsxs)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"MAC",name:"MAC",label:"SSN MAC Address",select:!0,value:b.MAC,onChange:function(e){return B(e)},SelectProps:{native:!0},color:v.MAC?"secondary":"primary",focused:!0,children:[Object(a.jsx)("option",{value:""}),u.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))]}),v.MAC?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:v.MAC}):null,Object(a.jsxs)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"sensor",name:"sensor",label:"Sensor",select:!0,value:b.sensor,onChange:function(e){return B(e)},focused:!!(b.MAC.length>0||v.sensor),SelectProps:{native:!0},color:v.sensor?"secondary":"primary",children:[Object(a.jsx)("option",{value:null}),l[b.MAC]&&0===l[b.MAC].length?Object(a.jsx)("option",{value:1,children:"Sensor 1"}):null,l[b.MAC]&&0===l[b.MAC].length?Object(a.jsx)("option",{value:2,children:"Sensor 2"}):null,l[b.MAC]&&1===l[b.MAC].length?1===l[b.MAC][0].Sensor_Number?Object(a.jsx)("option",{value:2,children:"Sensor 2"}):Object(a.jsx)("option",{value:1,children:"Sensor 1"}):null]}),v.sensor?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:v.sensor}):null,c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return G(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return P()},children:"Cancel"})]})]})})})},Or=Object(S.a)((function(e){return Ke(e)})),fr=function(e){var t=Or(),n=Object(Q.b)(),i=Object(Q.c)((function(e){return e.common.toggleEditFormDrawer})),o=Object(Q.c)((function(e){return e.machines.editMachineResponse})),c=Object(Q.c)((function(e){return e.machines.editMachineLoading})),l=Object(Q.c)((function(e){return e.machines.deleteMachineLoading})),d=Object(Q.c)((function(e){return e.machines.allMachinesInAZone})),u=d.findIndex((function(e){return e._id===i.ID})),m=u<0?{}:d[u],h=Object(r.useState)({}),b=Object(x.a)(h,2),O=b[0],f=b[1],y=Object(r.useState)(""),v=Object(x.a)(y,2),C=v[0],N=v[1],E=Object(r.useState)({}),M=Object(x.a)(E,2),L=M[0],A=M[1],k=Object(r.useState)(!1),S=Object(x.a)(k,2),R=S[0],F=S[1],B=function(){f({name:"",maxLoad:0,idleThreshold:0}),A({}),F(!1)},G=function(e){e.target.id&&(f(Object(s.a)(Object(s.a)({},O),{},Object(g.a)({},e.target.id,e.target.value))),A(Object(g.a)({},e.target.id,null)))},P=function(e){e.preventDefault();var t=Pe;t.id=i.ID,""===O.name?A(Object(s.a)(Object(s.a)({},L),{},{name:"Cannot be empty"})):O.name===m.name||(t.name=O.name),0===parseInt(O.maxLoad)?A(Object(s.a)(Object(s.a)({},L),{},{maxLoad:"Cannot be zero"})):O.maxLoad===m.max_load||(t.max_load=O.maxLoad),0===O.idleThreshold?A(Object(s.a)(Object(s.a)({},L),{},{idleThreshold:"Cannot be zero"})):O.idleThreshold===m.idle_threshold||(t.idle_threshold=O.idleThreshold),t.id&&Object.keys(t).length>1&&0===Object.values(L).filter((function(e){return e})).length&&(N(t.id),function(e,t){e({type:W.editMachineLoading});var n=JSON.stringify(t),a={method:"patch",url:$.server+"/machine",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:W.editOrDeleteMachine,payload:{response:t}})}),jr):In()(a).then((function(n){200!==n.status&&201!==n.status||e({type:W.editOrDeleteMachine,payload:{response:t}})})).catch((function(t){return En(t,e,W)}))}(n,t))},Z=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var t=Ze;t.id=i.ID,N(t.id),function(e,t){e({type:W.deleteMachineLoading});var n=JSON.stringify(t),a={method:"delete",url:$.server+"/machine",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:W.editOrDeleteMachine,payload:{response:t}})}),jr):In()(a).then((function(n){200!==n.status&&201!==n.status||e({type:W.editOrDeleteMachine,payload:{response:t}})})).catch((function(t){return En(t,e,W)}))}(n,t)}},U=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(B(),gt(n))};return Object(r.useEffect)((function(){f({name:m.name,maxLoad:m.max_load,idleThreshold:m.idle_threshold})}),[m.name,m.max_load,m.idle_threshold]),Object(r.useEffect)((function(){o.id===C&&F(!0)}),[o,C]),Object(r.useEffect)((function(){R&&setTimeout((function(){B(),gt(n),window.location.href=e.url}),2e3)}),[R,n,e]),Object(a.jsx)(Sn.a,{open:i.open,anchor:"right",onClose:function(e){return U()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Edit Machine"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[R?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:L.name?L.name:O.name,defaultValue:O.name,color:L.name?"secondary":"primary",onChange:function(e){return G(e)},autoComplete:"off",focused:!0}),Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"maxLoad",label:"Maximum Load",name:"maxLoad",color:L.maxLoad?"secondary":"primary",onChange:function(e){return G(e)},autoComplete:"off",focused:!0,defaultValue:O.maxLoad,type:"number",inputProps:{min:0}}),L.maxLoad?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:L.maxLoad}):null,Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:L.idleThreshold?"secondary":O.maxLoad>0?"primary":"textSecondary",children:"Idle Threshold*"}),Object(a.jsx)(hr.a,{disabled:!(O.maxLoad>0),defaultValue:O.idleThreshold,min:0,max:parseInt(O.maxLoad),step:1,valueLabelDisplay:"auto",onChange:function(e,t){return function(e,t){f(Object(s.a)(Object(s.a)({},O),{},{idleThreshold:t})),A({idleThreshold:null})}(0,t)},color:L.idleThreshold?"secondary":"primary"}),L.idleThreshold?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:L.idleThreshold}):null]}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return P(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return U()},children:"Cancel"}),Object(a.jsx)("hr",{className:t.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,color:"secondary",onClick:function(e){return Z(e)},children:"Delete"})]})]})})})},gr=Object(S.a)((function(e){return Ke(e)})),xr=function(e){var t=[];return(e=(e=e.toLowerCase()).split("")).forEach((function(e,n){for(var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=0;r<a.length;r++){if(e===a[r]){t[n]=!0;break}t[n]=!1}})),!t.includes(!1)},yr=[{value:10,label:"10 A"},{value:30,label:"30 A"},{value:50,label:"50 A"},{value:80,label:"80 A"},{value:100,label:"100 A"}],vr=function(e){var t=gr(),n=Object(Q.b)(),i=Object(Q.c)((function(e){return e.common.toggleAddFormDrawer})),o=Object(Q.c)((function(e){return e.nodes.addNodeResponse})),c=Object(Q.c)((function(e){return e.machines.zoneID})),l=Object(Q.c)((function(e){return e.nodes.addNodeLoading})),d=Object(r.useState)({MAC:"",sensor1Rating:yr[0].value,sensor2Rating:yr[0].value}),u=Object(x.a)(d,2),m=u[0],h=u[1],b=Object(r.useState)({}),O=Object(x.a)(b,2),f=O[0],y=O[1],v=Object(r.useState)(""),C=Object(x.a)(v,2),N=C[0],E=C[1],M=Object(r.useState)(!1),L=Object(x.a)(M,2),A=L[0],k=L[1],S=function(){h({MAC:"",sensor1Rating:yr[0].value,sensor2Rating:yr[0].value}),y({}),k(!1)},R=function(e){e.preventDefault();var t=Ue;t.mac=12===m.MAC.length&&xr(m.MAC)?function(e){for(var t=Array.from(e),n=0,a=2;a<12;n++,a+=2)t.splice(a+n,0,":");return t.join().split(",").join("")}(m.MAC):null,t.sensor_1_rating=m.sensor1Rating>0?m.sensor1Rating:null,t.sensor_2_rating=m.sensor2Rating>0?m.sensor2Rating:null,y({MAC:""===m.MAC||m.MAC.length<12||!xr(m.MAC)?"Invalid MAC Address":null,sensor1Rating:0===m.sensor1Rating?"Cannot be zero.":null,sensor2Rating:0===m.sensor2Rating?"Cannot be zero.":null}),t.mac&&t.sensor_1_rating&&t.sensor_2_rating&&(E(t.mac),function(e,t,n){e({type:B.addNodeLoading});var a={method:"post",url:$.server+"/node",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};$.showMockData?setTimeout((function(){e({type:B.addNode,payload:{response:t}})}),jr):In()(a).then((function(a){if(200===a.status||201===a.status){var r=a.data._id,i={zone_id:n,node_id:r},o={method:"post",url:$.server+"/ZoneMapping",headers:{"Content-Type":"application/json"},data:JSON.stringify(i)};In()(o).then((function(n){200!==n.status&&201!==n.status||e({type:B.addNode,payload:{response:t}})})).catch((function(t){return En(t,e,B)}))}})).catch((function(t){return En(t,e,B)}))}(n,t,c))},F=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(S(),ft(n))};return Object(r.useEffect)((function(){o.mac===N?k(!0):k(!1)}),[o,N]),Object(r.useEffect)((function(){A&&setTimeout((function(){ft(n),S(),mr(n,c)}),2e3)}),[A,n,c]),Object(a.jsx)(Sn.a,{open:i,anchor:"right",onClose:function(e){return F()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Add Node"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[A?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"MAC",label:"MAC",name:"MAC",placeholder:f.MAC,value:f.MAC?"":m.MAC?m.MAC:"",color:f.MAC?"secondary":"primary",onChange:function(e){return function(e){e.target.id&&h(Object(s.a)(Object(s.a)({},m),{},Object(g.a)({},e.target.id,e.target.value))),y(Object(g.a)({},e.target.id,null))}(e)},autoComplete:"off",focused:!0,inputProps:{maxLength:12},helperText:"Example: 001AC27B0047"}),Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:f.sensor1Rating?"secondary":"primary",children:"Sensor 1*"}),Object(a.jsx)(hr.a,{min:yr.map((function(e){return e})).slice(0,1).pop().value,valueLabelFormat:function(e){return yr.map((function(t){return t.value===e?t.value:null}))},step:null,valueLabelDisplay:"auto",marks:yr,onChange:function(e,t){return function(e,t){h(Object(s.a)(Object(s.a)({},m),{},{sensor1Rating:t})),y({sensor1Rating:null})}(0,t)},color:f.sensor1Rating?"secondary":"primary"})]}),f.sensor1Rating?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:f.sensor1Rating}):null,Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:f.sensor2Rating?"secondary":"primary",children:"Sensor 2*"}),Object(a.jsx)(hr.a,{min:yr.map((function(e){return e})).slice(0,1).pop().value,valueLabelFormat:function(e){return yr.map((function(t){return t.value===e?t.value:null}))},step:null,valueLabelDisplay:"auto",marks:yr,onChange:function(e,t){return function(e,t){h(Object(s.a)(Object(s.a)({},m),{},{sensor2Rating:t})),y({sensor1Rating:null})}(0,t)},color:f.sensor2Rating?"secondary":"primary"})]}),f.sensor2Rating?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:f.sensor2Rating}):null,l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return R(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return F()},children:"Cancel"})]})]})})})},_r=Object(S.a)((function(e){return Ke(e)})),Cr=[{value:10,label:"10 A"},{value:30,label:"30 A"},{value:50,label:"50 A"},{value:80,label:"80 A"},{value:100,label:"100 A"}],Nr=function(e){var t=_r(),n=Object(Q.b)(),i=Object(Q.c)((function(e){return e.common.toggleEditFormDrawer})),o=Object(Q.c)((function(e){return e.nodes.editNodeResponse})),c=Object(Q.c)((function(e){return e.nodes.editNodeLoading})),l=Object(Q.c)((function(e){return e.nodes.deleteNodeLoading})),d=Object(Q.c)((function(e){return e.machines.zoneID})),u=Object(Q.c)((function(e){return e.nodes.allNodesInAZoneProfiles})),m=u.findIndex((function(e){return e.mac===i.name})),h=m<0?{}:u[m],b=Object(r.useState)({MAC:"",sensor1Rating:0,sensor2Rating:0}),O=Object(x.a)(b,2),f=O[0],y=O[1],v=Object(r.useState)({}),C=Object(x.a)(v,2),N=C[0],E=C[1],M=Object(r.useState)(""),L=Object(x.a)(M,2),A=L[0],k=L[1],S=Object(r.useState)(!1),R=Object(x.a)(S,2),F=R[0],W=R[1],G=function(){y({MAC:"",sensor1Rating:0,sensor2Rating:0}),E({}),W(!1)},P=function(e){e.preventDefault();var t=ze;t.id=h._id,17===f.MAC.length&&function(e){var t=[];return(e=(e=e.toLowerCase()).split(":").join("").split("")).forEach((function(e,n){for(var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=0;r<a.length;r++){if(e===a[r]){t[n]=!0;break}t[n]=!1}})),!t.includes(!1)}(f.MAC)?f.MAC===h.mac||(t.mac=f.MAC):E(Object(s.a)(Object(s.a)({},N),{},{MAC:"Invalid MAC"})),f.sensor1Rating===h.sensor_1_rating||(t.sensor_1_rating=f.sensor1Rating),f.sensor2Rating===h.sensor_2_rating||(t.sensor_2_rating=f.sensor2Rating),t.id&&Object.keys(t).length>1&&0===Object.values(N).filter((function(e){return e})).length&&(k(t.id),function(e,t){e({type:B.editNodeLoading});var n=JSON.stringify(t),a={method:"patch",url:$.server+"/node",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:B.editOrDeleteNode,payload:{response:t}})}),jr):In()(a).then((function(n){200!==n.status&&201!==n.status||e({type:B.editOrDeleteNode,payload:{response:t}})})).catch((function(t){return En(t,e,B)}))}(n,t))},Z=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var t=He;t.id=h._id,k(t.id),function(e,t){e({type:B.deleteNodeLoading});var n=JSON.stringify(t),a={method:"delete",url:$.server+"/node",headers:{"Content-Type":"application/json"},data:n};$.showMockData?setTimeout((function(){e({type:B.editOrDeleteNode,payload:{response:t}})}),jr):In()(a).then((function(n){200!==n.status&&201!==n.status||e({type:B.editOrDeleteNode,payload:{response:t}})})).catch((function(t){return En(t,e,B)}))}(n,t)}},U=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(G(),gt(n))};return Object(r.useEffect)((function(){y({MAC:h.mac,sensor1Rating:h.sensor_1_rating,sensor2Rating:h.sensor_2_rating})}),[h.mac,h.sensor_1_rating,h.sensor_2_rating]),Object(r.useEffect)((function(){o.id===A?W(!0):W(!1)}),[o,A]),Object(r.useEffect)((function(){F&&setTimeout((function(){G(),gt(n),mr(n,d)}),2e3)}),[F,n,d]),Object(a.jsx)(Sn.a,{open:i.open,anchor:"right",onClose:function(e){return U()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Edit Node"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[F?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"MAC",label:"MAC",name:"MAC",placeholder:h.mac,defaultValue:h.mac,color:N.MAC?"secondary":"primary",onChange:function(e){return function(e){e.target.id&&y(Object(s.a)(Object(s.a)({},f),{},Object(g.a)({},e.target.id,e.target.value))),E(Object(g.a)({},e.target.id,null))}(e)},autoComplete:"off",focused:!0,inputProps:{maxLength:17},helperText:"E.g. 00:0a:95:9d:68:16"}),N.MAC?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:N.MAC}):null,Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:N.sensor1Rating?"secondary":"primary",children:"Sensor 1*"}),Object(a.jsx)(hr.a,{min:Cr.map((function(e){return e})).slice(0,1).pop().value,valueLabelFormat:function(e){return Cr.map((function(t){return t.value===e?t.value:null}))},step:null,valueLabelDisplay:"auto",marks:Cr,onChange:function(e,t){return function(e,t){y(Object(s.a)(Object(s.a)({},f),{},{sensor1Rating:t})),E({sensor1Rating:null})}(0,t)},color:N.sensor1Rating?"secondary":"primary",defaultValue:h.sensor_1_rating})]}),N.sensor1Rating?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:N.sensor1Rating}):null,Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:N.sensor2Rating?"secondary":"primary",children:"Sensor 2*"}),Object(a.jsx)(hr.a,{min:Cr.map((function(e){return e})).slice(0,1).pop().value,valueLabelFormat:function(e){return Cr.map((function(t){return t.value===e?t.value:null}))},step:null,valueLabelDisplay:"auto",marks:Cr,onChange:function(e,t){return function(e,t){y(Object(s.a)(Object(s.a)({},f),{},{sensor2Rating:t})),E({sensor1Rating:null})}(0,t)},color:N.sensor2Rating?"secondary":"primary",defaultValue:h.sensor_2_rating})]}),N.sensor2Rating?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:N.sensor2Rating}):null,c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return P(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return U()},children:"Cancel"}),Object(a.jsx)("hr",{className:t.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,color:"secondary",onClick:function(e){return Z(e)},children:"Delete"})]})]})})})},Dr=Object(S.a)((function(e){return Ke(e)})),wr=function(e){var t=Dr(),n=Object(Q.b)(),i=Object(Q.c)((function(e){return e.common.toggleEditMappingFormDrawer})),o=Object(Q.c)((function(e){return e.machines.editMachineMappingResponse})),c=Object(Q.c)((function(e){return e.machines.editMachineMappingLoading})),l=Object(Q.c)((function(e){return e.machines.deleteMachineMappingLoading})),d=Object(Q.c)((function(e){return e.machines.machineMappings})).filter((function(e){return e.machine_id===i.ID&&e})).pop(),u=Object(Q.c)((function(e){return e.nodes.allNodesInAZone})),m=Object(Q.c)((function(e){return e.nodes.allNodesInAZoneProfiles})),h=Object.keys(u).filter((function(e){return u[e].length<2&&u[e]})),b=Object(r.useState)({MAC:"",sensor:null}),O=Object(x.a)(b,2),f=O[0],y=O[1],v=Object(r.useState)({}),C=Object(x.a)(v,2),N=C[0],E=C[1],M=Object(r.useState)(""),L=Object(x.a)(M,2),A=L[0],k=L[1],S=Object(r.useState)(!1),R=Object(x.a)(S,2),F=R[0],B=R[1],G=function(){y(Object(s.a)(Object(s.a)({},f),{},{MAC:"",sensor:null})),E({}),B(!1)},P=function(e){e.target.id&&(y(Object(s.a)(Object(s.a)({},f),{},Object(g.a)({},e.target.id,e.target.value))),E(Object(s.a)(Object(s.a)({},N),{},Object(g.a)({},e.target.id,null))))},Z=function(e){e.preventDefault();var t={};if(t._id=d._id,""!==f.MAC){var a=m.map((function(e){return e.mac===f.MAC?e._id:null}));t.node_id=a.filter((function(e){return e})).pop()}else t.node_id=null;t.sensor_number=1===parseInt(f.sensor)||2===parseInt(f.sensor)?parseInt(f.sensor):null,E(Object(s.a)(Object(s.a)({},N),{},{MAC:""===f.MAC?"Cannot be empty.":null,sensor:1!==parseInt(f.sensor)&&2!==parseInt(f.sensor)?"Cannot be empty.":null})),t._id&&Object.values(t).filter((function(e){return e})).length>1&&0===Object.values(N).filter((function(e){return e})).length&&(k(t._id),function(e,t){e({type:W.editMachineMappingLoading}),setTimeout((function(){e({type:W.editMachineMapping,payload:{response:t}})}),jr)}(n,t))},U=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var t={id:d._id};k(t.id),function(e,t){e({type:W.deleteMachineMappingLoading}),setTimeout((function(){e({type:W.editMachineMapping,payload:{response:t}})}),jr)}(n,t)}},z=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(G(),xt(n))};return Object(r.useEffect)((function(){o._id!==A&&o.id!==A||B(!0)}),[o,A]),Object(r.useEffect)((function(){F&&setTimeout((function(){G(),xt(n),window.location.href=e.url}),2e3)}),[F,n,e.url]),Object(a.jsx)(Sn.a,{open:i.open,anchor:"right",onClose:function(e){return z()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Machine Mapping"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[F?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsxs)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"MAC",name:"MAC",label:"SSN MAC Address",select:!0,value:f.MAC,onChange:function(e){return P(e)},SelectProps:{native:!0},color:N.MAC?"secondary":"primary",focused:!0,children:[Object(a.jsx)("option",{value:""}),h.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))]}),N.MAC?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:N.MAC}):null,Object(a.jsxs)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"sensor",name:"sensor",label:"Sensor",select:!0,value:f.sensor,onChange:function(e){return P(e)},focused:!!(f.MAC.length>0||N.sensor),SelectProps:{native:!0},color:N.sensor?"secondary":"primary",children:[Object(a.jsx)("option",{value:null}),u[f.MAC]&&0===u[f.MAC].length?Object(a.jsx)("option",{value:1,children:"Sensor 1"}):null,u[f.MAC]&&0===u[f.MAC].length?Object(a.jsx)("option",{value:2,children:"Sensor 2"}):null,u[f.MAC]&&1===u[f.MAC].length?1===u[f.MAC][0].Sensor_Number?Object(a.jsx)("option",{value:2,children:"Sensor 2"}):Object(a.jsx)("option",{value:1,children:"Sensor 1"}):null]}),N.sensor?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:N.sensor}):null,c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return Z(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return z()},children:"Cancel"}),Object(a.jsx)("hr",{className:t.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,color:"secondary",onClick:function(e){return U(e)},children:"Delete"})]})]})})})},Ir=Object(S.a)((function(e){return qe()})),Er=["machines","nodes"],Mr=function(e){var t=Ir(),n=Object(Q.b)(),i=Object(r.useState)(!1),o=Object(x.a)(i,2),c=o[0],s=o[1],l=Object(Q.c)((function(e){return e.machines.machinesLoading})),d=Object(Q.c)((function(e){return e.nodes.nodesLoading})),j=Object(Q.c)((function(e){return e.machines.allMachinesInAZone})),h=Object(Q.c)((function(e){return e.nodes.allNodesInAZone})),b=Object(r.useState)(Er[0]),O=Object(x.a)(b,2),f=O[0],g=O[1],y=Object(Q.c)((function(e){return e.common.machinesOrNodesFilter}));Object(r.useEffect)((function(){g(y)}),[y]),Object(r.useEffect)((function(){!function(e){e({type:W.machinesLoading});var t={method:"get",url:$.server+"/MachineMappings",headers:{"Content-Type":"application/json"}};$.showMockData?setTimeout((function(){e({type:W.getAllMachineMappings,payload:kn.getAllMachineMappings})}),jr):In()(t).then((function(t){var n=t.data;if(Ae(n)){var a=n.filter((function(e){return e}));e({type:W.getAllMachineMappings,payload:a})}else console.log("error: unexpected response",n)})).catch((function(t){return En(t,e,W)}))}(n),function(e,t){e({type:W.machinesLoading});var n={method:"get",url:$.server+"/zone/Summary/"+t,headers:{"Content-Type":"application/json"}};$.showMockData?setTimeout((function(){e({type:W.getAllMachinesInAZone,payload:{allMachinesInAZone:kn.getAllMachines,zoneID:t}})}),jr):In()(n).then((function(n){var a=n.data;if(Ae(a)){var r=a.machines_data,i=a.zone_summary;e({type:W.getAllMachinesInAZone,payload:{allMachinesInAZone:r,zoneID:t,zoneSummary:i}})}else console.log("error: unexpected response",a)})).catch((function(t){return En(t,e,W)}))}(n,e.match.params.zoneID),mr(n,e.match.params.zoneID)}),[n,e]);var v=Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsxs)(u.a,{container:!0,spacing:1,justify:"flex-start",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(Dn,{list:e.navigationList})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(za,{options:Er,selected:f,type:U,icon:Object(a.jsx)(Qa.a,{style:{color:m.TEAL[700]},className:t.iconInsideButton})})})]})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsxs)(u.a,{container:!0,spacing:1,justify:"flex-start",alignItems:"center",children:[f===Er[1]?null:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(ve.a,{title:"Compact View",placement:"top",children:Object(a.jsx)(p.a,{className:t.button,onClick:function(e){return s(!c)},style:c?{backgroundColor:m.TEAL[700]}:{},variant:"contained",children:Object(a.jsx)(tr.a,{className:t.iconInsideButton,style:c?{color:"white"}:{color:m.TEAL[700]}})})})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(ve.a,{title:f===Er[1]?"Add Node":"Add Machine",placement:"top",children:Object(a.jsx)(p.a,{className:t.button,onClick:function(e){return ft(n)},variant:"contained",children:Object(a.jsx)(Le.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})})})]})})]}),_=f===Er[1]?d?Object(a.jsx)(Yn,{}):Object(a.jsx)(ur,{allNodesInAZone:h}):l?Object(a.jsx)(Yn,{}):Object(a.jsx)(sr,{allMachinesInAZone:j,compact:c});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:v}),Object(a.jsx)(u.a,{item:!0,xs:12,children:_})]}),f===Er[1]?Object(a.jsx)(vr,{}):Object(a.jsx)(pr,{url:e.match.url,params:e.match.params}),f===Er[1]?Object(a.jsx)(Nr,{url:e.match.url,params:e.match.params}):Object(a.jsx)(fr,{url:e.match.url,params:e.match.params}),Object(a.jsx)(wr,{url:e.match.url,params:e.match.params})]})},Lr=function(e,t,n,r,i){var o=t.navigationAliases[0],c=[n,o,"workshopName","zoneName","machineName"],l=i+n+"/",u=l+o+"/",j=u+":workshopID~:workshopName/",m=j+":zoneID~:zoneName/",h=m+":machineID~:machineName/";return[Object(a.jsx)(d.b,{exact:!0,path:l,render:function(){return e?Object(a.jsx)(d.a,{to:u}):Object(a.jsx)(d.a,{to:r})}},Math.random()),Object(a.jsx)(d.b,{exact:!0,path:u,render:function(t){return e?Object(a.jsx)(Kn,Object(s.a)(Object(s.a)({},t),{},{navigationList:c})):Object(a.jsx)(d.a,{to:r})}},Math.random()),Object(a.jsx)(d.b,{exact:!0,path:j,render:function(t){return e?Object(a.jsx)(oa,Object(s.a)(Object(s.a)({},t),{},{navigationList:c})):Object(a.jsx)(d.a,{to:r})}},Math.random()),Object(a.jsx)(d.b,{exact:!0,path:m,render:function(t){return e?Object(a.jsx)(Mr,Object(s.a)(Object(s.a)({},t),{},{navigationList:c})):Object(a.jsx)(d.a,{to:r})}},Math.random()),Object(a.jsx)(d.b,{exact:!0,path:h,render:function(t){return e?Object(a.jsx)(Xa,Object(s.a)(Object(s.a)({},t),{},{navigationList:c})):Object(a.jsx)(d.a,{to:r})}},Math.random())]};function Ar(e){return Object(a.jsx)(u.a,{container:!0,spacing:2,children:Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:e.all.map((function(e,t){return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500+500*t}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:3,md:4,sm:6,xs:12,children:Object(a.jsx)(wt,{data:{name:e.name,ID:e._id,mapping:!1}})},t)}),t)}))})})})}var kr=Object(S.a)((function(e){return Ke(e)})),Tr={name:"",workshop_id:"",min_temperature:0,max_temperature:0,min_humidity:0,max_humidity:0},Sr=function(e){var t=Object(Q.b)(),n=kr(),i=Object(Q.c)((function(e){return e.common.toggleAddFormDrawer})),o=Object(Q.c)((function(e){return e.zones.addZoneResponse})),c=Object(Q.c)((function(e){return e.zones.addZoneLoading}));Tr.workshop_id=Object(Q.c)((function(e){return e.environmentMonitoring.containersPage.workshopID}));var l=Object(r.useState)(Tr),d=Object(x.a)(l,2),u=d[0],m=d[1],h=Object(r.useState)({}),b=Object(x.a)(h,2),O=b[0],f=b[1],y=Object(r.useState)(!1),v=Object(x.a)(y,2),C=v[0],N=v[1],E=function(){m(Tr),f({}),N(!1)},M=function(e){m(Object(s.a)(Object(s.a)({},u),{},Object(g.a)({},e.target.id,e.target.value)))},L=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(E(),ft(t))};return Object(r.useEffect)((function(){o>0&&N(!0)}),[o]),Object(r.useEffect)((function(){C&&setTimeout((function(){ft(t),E(),window.location.href=e.url}),2e3)}),[C,t,e]),Object(a.jsx)(Sn.a,{open:i,anchor:"right",onClose:function(e){return L()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Add"}),Object(a.jsxs)("form",{noValidate:!0,className:n.form,onSubmit:function(e){return e.preventDefault()},children:[C?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:O.name,color:O.name?"secondary":"primary",onKeyPress:function(e){return M(e)},onChange:function(e){return M(e)},autoComplete:"off",focused:!0}),Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"max_temperature",label:"Max Temperature",name:"max_temperature",color:O.max_temperature?"secondary":"primary",onChange:function(e){return M(e)},autoComplete:"off",focused:!0,defaultValue:0,type:"number",inputProps:{min:0}}),O.max_temperature?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:O.max_temperature}):null,Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:O.min_temperature?"secondary":u.max_temperature>0?"primary":"textSecondary",children:"Min_Temperature*"}),Object(a.jsx)(hr.a,{disabled:!(u.max_temperature>0),defaultValue:0,min:0,max:parseInt(u.max_temperature),step:1,valueLabelDisplay:"auto",onChange:function(e,t){return function(e,t){m(Object(s.a)(Object(s.a)({},u),{},{min_temperature:t})),f(Object(s.a)(Object(s.a)({},O),{},{min_temperature:null}))}(0,t)},color:O.min_temperature?"secondary":"primary"}),O.min_temperature?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:O.min_temperature}):null]}),Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"max_humidity",label:"Max Humidity",name:"max_humidity",color:O.max_humidity?"secondary":"primary",onChange:function(e){return M(e)},autoComplete:"off",focused:!0,defaultValue:0,type:"number",inputProps:{min:0}}),O.max_humidity?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:O.max_humidity}):null,Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:O.min_humidity?"secondary":u.max_humidity>0?"primary":"textSecondary",children:"Min_Humidity*"}),Object(a.jsx)(hr.a,{disabled:!(u.max_humidity>0),defaultValue:0,min:0,max:parseInt(u.max_humidity),step:1,valueLabelDisplay:"auto",onChange:function(e,t){return function(e,t){m(Object(s.a)(Object(s.a)({},u),{},{min_humidity:t})),f(Object(s.a)(Object(s.a)({},O),{},{min_humidity:null}))}(0,t)},color:O.min_humidity?"secondary":"primary"}),O.min_humidity?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:O.min_humidity}):null]}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(e){return function(e){e.preventDefault();var n={name:""===u.name?"Cannot be empty":null,max_temperature:0===u.max_temperature?"Cannot be zero":null,max_humidity:0===u.max_humidity?"Cannot be zero":null};f(n),0===Object.values(n).filter((function(e){return e})).length&&null!==u.workshop_id&&Qn(t,u)}(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return L()},children:"Cancel"})]})]})})})},Rr=Object(S.a)((function(e){return Ke(e)})),Fr={id:"",workshop_id:"",name:"",min_temperature:0,max_temperature:0,min_humidity:0,max_humidity:0},Wr=function(e){var t=Object(Q.b)(),n=Rr(),i=Object(Q.c)((function(e){return e.common.toggleEditFormDrawer})),o=Object(Q.c)((function(e){return e.zones.editZoneResponse})),c=Object(Q.c)((function(e){return e.zones.editZoneLoading})),l=e.all.filter((function(e){return e._id===i.ID})).pop();l=l||{};var d=Object(r.useState)(l),u=Object(x.a)(d,2),m=u[0],h=u[1],b=Object(r.useState)({}),O=Object(x.a)(b,2),f=O[0],y=O[1],v=Object(r.useState)(!1),C=Object(x.a)(v,2),N=C[0],E=C[1],M=function(){h(Fr),y({}),E(!1)},L=function(e){h(Object(s.a)(Object(s.a)({},m),{},Object(g.a)({},e.target.id,e.target.value)))},A=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(M(),gt(t))};return Object(r.useEffect)((function(){h({name:l.name,min_temperature:l.min_temperature,max_temperature:l.max_temperature,min_humidity:l.min_humidity,max_humidity:l.max_humidity})}),[l.name,l.min_temperature,l.max_temperature,l.min_humidity,l.max_humidity]),Object(r.useEffect)((function(){o>0&&E(!0)}),[o]),Object(r.useEffect)((function(){N&&setTimeout((function(){gt(t),M(),window.location.href=e.url}),2e3)}),[N,t,e]),Object(a.jsx)(Sn.a,{open:i.open,anchor:"right",onClose:function(e){return A()},children:Object(a.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Edit"}),Object(a.jsxs)("form",{noValidate:!0,className:n.form,onSubmit:function(e){return e.preventDefault()},children:[N?Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(T.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:f.name?f.name:l.name,color:f.name?"secondary":"primary",onKeyPress:function(e){return L(e)},onChange:function(e){return L(e)},autoComplete:"off",focused:!0}),Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"max_temperature",label:"Max Temperature",name:"max_temperature",color:f.max_temperature?"secondary":"primary",onChange:function(e){return L(e)},autoComplete:"off",focused:!0,defaultValue:l.max_temperature,type:"number",inputProps:{min:0}}),f.max_temperature?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:f.max_temperature}):null,Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:f.min_temperature?"secondary":m.max_temperature>0?"primary":"textSecondary",children:"Min_Temperature*"}),Object(a.jsx)(hr.a,{defaultValue:l.min_temperature,min:0,max:parseInt(m.max_temperature),step:1,valueLabelDisplay:"auto",onChange:function(e,t){return function(e,t){h(Object(s.a)(Object(s.a)({},m),{},{min_temperature:t})),y(Object(s.a)(Object(s.a)({},f),{},{min_temperature:null}))}(0,t)},color:f.min_temperature?"secondary":"primary"}),f.min_temperature?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:f.min_temperature}):null]}),Object(a.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"max_humidity",label:"Max Humidity",name:"max_humidity",color:f.max_humidity?"secondary":"primary",onChange:function(e){return L(e)},autoComplete:"off",focused:!0,defaultValue:l.max_humidity,type:"number",inputProps:{min:0}}),f.max_humidity?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:f.max_humidity}):null,Object(a.jsxs)("div",{style:Je.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.title,color:f.min_humidity?"secondary":m.max_humidity>0?"primary":"textSecondary",children:"Min_Humidity*"}),Object(a.jsx)(hr.a,{defaultValue:l.min_humidity,min:0,max:parseInt(m.max_humidity),step:1,valueLabelDisplay:"auto",onChange:function(e,t){return function(e,t){h(Object(s.a)(Object(s.a)({},m),{},{min_humidity:t})),y(Object(s.a)(Object(s.a)({},f),{},{min_humidity:null}))}(0,t)},color:f.min_humidity?"secondary":"primary"}),f.min_humidity?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:Je.error,color:"secondary",children:f.min_humidity}):null]}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(I.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(e){return function(e){e.preventDefault();var n={name:""===m.name?"Cannot be empty":null,max_temperature:0===m.max_temperature?"Cannot be zero":null,max_humidity:0===m.max_humidity?"Cannot be zero":null};y(n);var a=Object(s.a)({},l);a.id=a._id,delete a._id,delete a.__v;var r=m;r.id=l._id,r.workshop_id=l.workshop_id;var i=0===Object.keys(r).filter((function(e){return r[e]!==a[e]})).length;0!==Object.values(n).filter((function(e){return e})).length||i||ea(t,m)}(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return A()},children:"Cancel"})]})]})})})},Br=J,Gr=Object(S.a)((function(e){return qe()})),Pr=function(e){var t=Gr(),n=Object(Q.b)(),i=Object(Q.c)((function(e){return e.environmentMonitoring.containersPage.allContainers})),o=Object(Q.c)((function(e){return e.environmentMonitoring.containersPage.containersLoading})),c=Object(Q.c)((function(e){return e.auth.user}));Object(r.useEffect)((function(){!function(e,t){var n=$.users.map((function(e){return e.name===t?e:null}));n=n.filter((function(e){return e})).pop(),e({type:Br.containersLoading});var a={method:"get",url:$.server+"/zones",headers:{}};$.showMockData?setTimeout((function(){e({type:Br.populateContainersPage,payload:{allZones:kn.getAllZones,workshopID:n.workshopID}})}),1e3):In()(a).then((function(t){if(Ae(t.data)){var a=t.data.filter((function(e){return e})).map((function(e){return e.workshop_id===n.workshopID?e:null}));Ae(a)?(a=a.filter((function(e){return e})),e({type:Br.populateContainersPage,payload:{allZones:a,workshopID:n.workshopID}})):console.log("error: unexpected response",a)}else console.log("error: unexpected response",t.data)})).catch((function(t){return En(t,e,Br)}))}(n,c)}),[n,c]);var s=Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(Dn,{list:e.navigationList})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(u.a,{container:!0,spacing:1,justify:"flex-start",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(ve.a,{placement:"top",title:"Add",children:Object(a.jsx)(p.a,{className:t.button,variant:"contained",onClick:function(e){return ft(n)},children:Object(a.jsx)(Le.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})})})})})]}),l=Ae(i)||o?null:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,justify:"center",alignItems:"center",style:{height:"70vh"},spacing:4,children:Object(a.jsx)(Bn,{message:"Nothing has been added yet."})})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:s}),Object(a.jsx)(u.a,{item:!0,xs:12,children:o?Object(a.jsx)(Yn,{}):Object(a.jsx)(Ar,{all:i})}),l]}),Object(a.jsx)(Sr,{url:e.match.url,params:e.match.params}),Object(a.jsx)(Wr,{url:e.match.url,params:e.match.params,all:i})]})},Zr=n(113),Ur=(n(285),function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}),zr=60,Hr=20,Vr=function(e){return e>=zr?1:e>=Hr?0:-1},Yr=function(){for(var e=[],t=576;t>=1;t--){var n=Date.now()+0,a=String(new Date(n-3e5*t)),r=Ur(19,61),i=Ur(19,61),o=Vr(r),c=Vr(i);e.push({temperature_alert:o,humidity_alert:c,temperature:r,humidity:i,timestamp:a})}return e},qr=[{id:"qwertyuiuytrew",workshop_id:"12345678",name:"zone-123",min_temperature:zr,max_temperature:Hr,min_humidity:zr,max_humidity:Hr}],Kr=X,Jr=Object(S.a)((function(e){return qe()}));function Xr(e){var t=Jr(),n=e.data,r=n.icon,i=n.values,o="primary"===i.colored?i.color:m.BLUEGREY[500],c=null===i.colored||"secondary"===i.colored?i.colored:m.BLUEGREY[500];return Object(a.jsxs)(u.a,{container:!0,component:b.a,direction:"row",justify:"center",alignItems:"center",elevation:2,style:{padding:12,height:"100%"},className:t.cardHover,children:[Object(a.jsx)(u.a,{item:!0,style:{color:i.color,padding:10,display:"flex",justifyContent:"center"},children:r}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{align:"center",variant:"h6",style:{color:o,paddingLeft:10},children:i.primary})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{align:"center",variant:"body2",style:{color:c},children:i.secondary})})]})})]})}var $r=function(e){return-1===e?m.BLUE[700]:1===e?m.RED[700]:m.GREEN[700]},Qr=function(e){return-1===e?"Low":1===e?"High":"Normal"};function ei(e){var t=e.data,n=t.lastUpdateTimestamp,r=t.temperatureNow,i=t.temperatureAlertNow,o=t.humidityNow,c=t.humidityAlertNow,l={lastUpdateTimestamp:n,liveData:t.liveData},d={icon:Object(a.jsx)(Lt.a,{size:"small",style:{color:$r(i),iconHeight:60}}),values:{primary:r+" \xb0C",secondary:Qr(i),color:$r(i),colored:"primary"}},j={icon:Object(a.jsx)(kt.a,{size:"small",style:{color:$r(c),iconHeight:60}}),values:{primary:o+" %RH",secondary:Qr(c),color:$r(c),colored:"primary"}};return Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",spacing:2,children:[Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:200}),{},{children:Object(a.jsx)(u.a,{item:!0,md:4,xs:12,children:Object(a.jsx)(fa,{data:l})})})),Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:400}),{},{children:Object(a.jsx)(u.a,{item:!0,md:4,xs:12,children:Object(a.jsx)(Xr,{data:d})})})),Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:600}),{},{children:Object(a.jsx)(u.a,{item:!0,md:4,xs:12,children:Object(a.jsx)(Xr,{data:j})})}))]})}var ti=Object(S.a)((function(e){return qe()}));function ni(e){var t=ti(),n=e.lineCharts,i=n.temperature,o=n.humidity,c=n.temperatureAlerts,l=n.humidityAlerts,d=Object(r.useState)(0),h=Object(x.a)(d,2),O=h[0],f=h[1],g=[i,c,o,l],y=["Temperature (\xb0C)","Temperature Alerts","Humidity (%RH)","Humidity Alerts"],v=g.map((function(e,t){var n=e.color,r=m.BLUEGREY[200],i=m.BLUEGREY[500],o=t===O?"white":i,c=t===O?n:r;return Object(a.jsx)(u.a,{item:!0,lg:2,md:4,sm:6,xs:12,children:Object(a.jsx)(ve.a,{title:"Switch Between Charts",placement:"top",children:Object(a.jsx)(p.a,{fullWidth:!0,style:{color:o,backgroundColor:c,padding:0},onClick:function(e){return f(t)},children:Object(a.jsx)(j.a,{variant:"caption",style:{padding:3,color:o},children:y[t]})})})},t)})),_=g.map((function(e,t){return Object(a.jsx)(Ra,{chartData:e})}));return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:800}),{},{children:Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",component:b.a,elevation:2,className:t.cardHover,children:[Object(a.jsx)(u.a,{item:!0,xs:12,style:{paddingTop:15,paddingLeft:15,paddingRight:15,paddingBottom:30},children:Object(a.jsx)(u.a,{container:!0,spacing:1,justify:"center",alignItems:"center",children:v})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:_[O]})]})}))}var ai=n(295),ri=n(343),ii=n(344),oi=n(345),ci=n(179),si=n.n(ci),li=Object(S.a)((function(e){return qe()})),di=i.a.forwardRef((function(e,t){return Object(a.jsx)(ai.a,Object(s.a)({direction:"right",ref:t},e))})),ui={selectedButton:{color:"white",backgroundColor:m.TEAL[700]},unSelectedButton:{color:m.TEAL[700],backgroundColor:"white"},dialogBoxContainer:{backgroundColor:m.BLUEGREY[100],padding:20},dialogBox:{backgroundColor:"rgb(0,0,0,0)"},cardsContainer:{paddingTop:10},card:{paddingBottom:10},cardContentContainer:{padding:5}},ji=function(e){var t=new Date(e);return t.toLocaleTimeString()+" - "+t.toLocaleDateString()};function mi(e){var t=li(),n=e.data,r=n.humidity,o=n.humidityAlerts,c=n.temperature,s=n.temperatureAlerts,l=n.timestamps,d=i.a.useState({temperature:!0,humidity:!1}),h=Object(x.a)(d,2),b=h[0],O=h[1],f=i.a.useState(!1),g=Object(x.a)(f,2),y=g[0],v=g[1],_=function(e){v(!y)},C=function(e){"temperature"===e.currentTarget.id&&O({temperature:!0,humidity:!1}),"humidity"===e.currentTarget.id&&O({temperature:!1,humidity:!0})},N=Object(a.jsx)(an.a,{style:{width:20,color:m.BLUE[600]}}),D=Object(a.jsx)(on.a,{style:{width:20,color:m.RED[600]}}),w=[];s.map((function(e,t){return-1===e?w.push({alert:"Low",value:c[t],time:ji(l[t]),icon:N,color:m.BLUE[600]}):1===e&&w.push({alert:"High",value:c[t],time:ji(l[t]),icon:D,color:m.RED[600]}),e})),w.reverse();var I=[];o.map((function(e,t){return-1===e?I.push({alert:"Low",value:r[t],time:ji(l[t]),color:m.BLUE[600],icon:N}):1===e&&I.push({alert:"High",value:r[t],time:ji(l[t]),color:m.RED[600],icon:D}),e})),I.reverse();var E=Object(a.jsxs)(u.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(p.a,{id:"temperature",variant:"text",fullWidth:!0,onClick:function(e){return C(e)},style:b.temperature?ui.selectedButton:ui.unSelectedButton,children:Object(a.jsx)(j.a,{variant:"caption",children:"Temperature"})})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(p.a,{variant:"text",id:"humidity",fullWidth:!0,onClick:function(e){return C(e)},style:b.humidity?ui.selectedButton:ui.unSelectedButton,children:Object(a.jsx)(j.a,{variant:"caption",children:"Humidity"})})})]}),M=function(e,t,n){return Object(a.jsx)(u.a,{item:!0,xs:12,style:ui.card,children:Object(a.jsx)(p.a,{variant:"contained",style:{backgroundColor:"white"},fullWidth:!0,endIcon:e.icon,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:ui.cardContentContainer,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(j.a,{variant:"body1",align:"left",gutterBottom:!0,style:{color:m.BLUEGREY[600]},children:[e.value,n]})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{variant:"body2",align:"left",style:{color:m.BLUEGREY[400]},children:e.time})})]})})},t)},L=Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch",children:[b.temperature?w.map((function(e,t){return M(e,t," \xb0C")})):null,b.humidity?I.map((function(e,t){return M(e,t," %RH")})):null]});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ve.a,{placement:"top",title:"Alerts",children:Object(a.jsx)(p.a,{className:t.button,variant:"contained",onClick:function(e){return _()},children:Object(a.jsx)(si.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})}),Object(a.jsxs)(Wn.a,{open:y,onBackdropClick:function(e){return v(!1)},style:ui.dialogBox,scroll:"paper",TransitionComponent:di,children:[Object(a.jsx)(ri.a,{children:E}),Object(a.jsx)(ii.a,{dividers:!0,style:ui.dialogBoxContainer,children:Object(a.jsx)("div",{style:ui.cardsContainer,children:L})}),Object(a.jsx)(oi.a,{children:Object(a.jsx)(p.a,{fullWidth:!0,variant:"text",onClick:function(e){return _()},children:Object(a.jsx)(j.a,{variant:"body2",children:"Close"})})})]})]})}var hi=n(349),bi=n(351),pi=n(347),Oi=n(348),fi=n(350),gi=n(346),xi=Object(S.a)({root:{width:"100%",display:"flex",justifyContent:"center"},constainerPrimary:{flexGrow:1,maxWidth:"95vw"},containerSecondary:{maxHeight:"85vh"}}),yi=function(e){var t=xi(),n=e.data,r=n.humidity,i=n.humidityAlerts,o=n.temperature,c=n.temperatureAlerts,l=n.timestamps,d=Object(a.jsx)(gi.a,{children:["Alert","Value","Time","Date"].map((function(e,t){return Object(a.jsx)(pi.a,{align:"left",children:e},t)}))}),u=[];l.map((function(e,t){var n=new Date(e),s=n.toLocaleDateString(),l=n.toLocaleTimeString(),d={color:m.BLUE[600]},j={color:m.RED[600]},h=Object(a.jsx)("span",{style:d,children:"Low humidity threshold crossed"}),b=Object(a.jsx)("span",{style:j,children:"High humidity threshold crossed"}),p=Object(a.jsx)("span",{style:d,children:"Low temperature threshold crossed"}),O=Object(a.jsx)("span",{style:j,children:"High temperature threshold crossed"}),f=-1===i[t],g=1===i[t],x=-1===c[t],y=1===c[t],v=f||g,_=x||y;if(v||_)if(v&&_){var C=[];x&&(C=[p,o[t],l,s]),y&&(C=[O,o[t],l,s]);var N=[];f&&(N=[h,r[t],l,s]),g&&(N=[b,r[t],l,s]),u.push(C),u.push(N)}else{var D=[];f&&(D=[h,r[t],l,s]),g&&(D=[b,r[t],l,s]),x&&(D=[p,o[t],l,s]),y&&(D=[O,o[t],l,s]),u.push(D)}return t})),u.reverse();var j=u.map((function(e,t){return Object(a.jsx)(gi.a,{hover:!0,children:e.map((function(e,t){return Object(a.jsx)(pi.a,{align:"left",children:e},t)}))},t)}));return Object(a.jsx)(w.a,Object(s.a)(Object(s.a)({in:!0},{timeout:1e3}),{},{children:Object(a.jsx)(b.a,{className:t.root,children:Object(a.jsx)("div",{className:t.constainerPrimary,children:Object(a.jsx)(Oi.a,{className:t.containerSecondary,children:Object(a.jsxs)(hi.a,{stickyHeader:!0,children:[Object(a.jsx)(fi.a,{children:d}),Object(a.jsx)(bi.a,{children:j})]})})})})}))},vi=Va()($.server,{transports:["websocket"]}),_i={temperature:m.GREEN[700],temperatureAlerts:m.LIGHTGREEN[700],humidity:m.BLUE[700],humidityAlerts:m.CYAN[700]};function Ci(e){var t=Object(Q.b)(),n=e.match.params.containerID,i=Object(r.useState)(null),o=Object(x.a)(i,2),c=o[0],s=o[1],l=Object(Q.c)((function(e){return e.environmentMonitoring.containerDetails.containerDetailsLoading})),d=Object(Q.c)((function(e){return e.environmentMonitoring.containerDetails.containerDetailsData})),h=Object(Q.c)((function(e){return e.environmentMonitoring.containerDetails.notFound})),b=Object(Q.c)((function(e){return e.environmentMonitoring.containerDetails.containerProfile}));b=null!==b?b[0]:{};var p=function(e){var t=e instanceof Array&&e.length>0?e:null,n=[],a=0,r=0,i=[],o=0,c=0,s=0,l=[],d=0,u=[],j=0,m=0,h=0,b=[],p=0;if(t)try{var O=t.slice(-1)[0];r=(n=t.map((function(e){return Date.parse(e.timestamp)})))[0],a=n.slice(-1)[0],i=t.map((function(e){return e.temperature})),l=t.map((function(e){return e.temperature_alert})),o=O.temperature,d=O.temperature_alert,c=Math.max.apply(Math,Object(Kt.a)(i)),s=Math.min.apply(Math,Object(Kt.a)(i)),u=t.map((function(e){return e.humidity})),b=t.map((function(e){return e.humidity_alert})),j=O.humidity,p=O.humidity_alert,m=Math.max.apply(Math,Object(Kt.a)(u)),h=Math.min.apply(Math,Object(Kt.a)(u))}catch(f){console.log(f)}return{timestamps:n,timestampEnd:a,timestampStart:r,temperature:i,temperatureAlerts:l,temperatureNow:o,temperatureMax:c,temperatureMin:s,temperatureAlertNow:d,humidity:u,humidityAlerts:b,humidityNow:j,humidityMax:m,humidityMin:h,humidityAlertNow:p}}(Ae(d)?Ae(c)?[].concat(Object(Kt.a)(d),[c]):d:[]);Object(r.useEffect)((function(){!function(e,t){e({type:Kr.containerDetailsLoading});var n={method:"get",url:$.server+"/Zone/TemperatureHumidity/Alerts/"+t,headers:{"Content-Type":"application/json"}};console.log(n.url),$.showMockData?setTimeout((function(){e({type:Kr.populateContainerDetailsPage,payload:Yr()})}),1e3):In()(n).then((function(t){var n=t.data;200===t.status||201===t.status?Ae(n)?e({type:Kr.populateContainerDetailsPage,payload:n}):e({type:Kr.noStoredMachineDataResponse}):console.log(t.status)})).catch((function(t){return En(t,e,Kr)}))}(t,n),function(e,t){var n={method:"get",url:$.server+"/Zone/"+t,headers:{"Content-Type":"application/json"}};console.log(n.url),$.showMockData?setTimeout((function(){e({type:Kr.getContainerProfile,payload:qr})}),1e3):In()(n).then((function(t){var n=t.data;200===t.status||201===t.status?Ae(n)&&e({type:Kr.getContainerProfile,payload:n}):console.log(t.status)})).catch((function(t){return En(t,e,Kr)}))}(t,n)}),[t,n]),Object(r.useEffect)((function(){$.showMockData||vi.emit("send-data-environment",{_id:n}),$.showMockData?setInterval((function(){s(function(){var e=String(new Date),t=Ur(19,61),n=Ur(19,61);return{temperature_alert:Vr(t),humidity_alert:Vr(n),temperature:t,humidity:n,timestamp:e}}())}),5e3):vi.on("data-environment-".concat(n),(function(e){try{s(e||null)}catch(t){s(null),console.log(t)}}))}),[n]);var O=Object(a.jsx)(Zr.a,{position:"top-right",autoClose:1e4,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,enableMultiContainer:!0,containerId:"ContainerDetails"}),f=Object(r.useState)(0),g=Object(x.a)(f,2),y=g[0],v=g[1],_=function(e){var t;t=e,Zr.b.info(t,{containerId:"ContainerDetails"}),v(y+1)},C=" %RH",N=function(e,t,n){var r=new Date(e.timestamp).toLocaleTimeString("en-US");return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsxs)(j.a,{align:"left",variant:"button",children:[e.humidity,n]})}),Object(a.jsx)("div",{children:Object(a.jsx)(j.a,{variant:"caption",align:"left",children:r})})]})};Object(r.useEffect)((function(){if(Ae(c)){if(-1===c.humidity_alert){_(N(c,0,C))}if(1===c.humidity_alert){!function(e){var t;t=e,Zr.b.error(t,{containerId:"ContainerDetails"}),v(y+1)}(N(c,0,C))}if(-1===c.temperature_alert){_(N(c,0," \xb0C"))}if(1===c.temperature_alert){_(N(c,0," \xb0C"))}}}),[c]);var D=p.timestamps,w=p.timestampEnd,I=p.temperature,E=p.temperatureAlerts,M=p.temperatureNow,L=p.temperatureAlertNow,A=p.humidity,k=p.humidityAlerts,T=p.humidityNow,S=p.humidityAlertNow,R=new Date(w).toLocaleTimeString("en-US"),F=m.BLUEGREY[600],W={temperature:{series:I,timestamps:D,name:"Temperature",color:_i.temperature,type:"line",large:!0,yMax:70,series2:I.map((function(e){return b.max_temperature})),series2Name:"Max Threshold",series2Color:F,series3:I.map((function(e){return b.min_temperature})),series3Name:"Min Threshold",series3Color:F},humidity:{series:A,timestamps:D,name:"Humidity",color:_i.humidity,type:"line",large:!0,yMax:70,series2:A.map((function(e){return b.max_humidity})),series2Name:"Max Threshold",series2Color:F,series3:A.map((function(e){return b.min_humidity})),series3Name:"Min Threshold",series3Color:F},temperatureAlerts:{series:E.map((function(e){return e+1})),timestamps:D,name:"Temperature Alerts",color:_i.temperatureAlerts,type:"line",step:"center",large:!0,yMax:3,yLabels:["LOW","NORMAL","HIGH"]},humidityAlerts:{series:k.map((function(e){return e+1})),timestamps:D,name:"Humidity Alerts",color:_i.humidityAlerts,type:"line",step:"center",large:!0,yMax:3,yLabels:["LOW","NORMAL","HIGH"]}},B=Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(Dn,{list:e.navigationList})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:"auto",children:Object(a.jsx)(u.a,{container:!0,spacing:1,justify:"flex-start",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(mi,{data:{humidity:A,humidityAlerts:k,temperature:I,temperatureAlerts:E,timestamps:D}})})})})]}),G=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:B}),Object(a.jsx)(Yn,{})]}),P=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:B}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(ei,{data:{lastUpdateTimestamp:R,temperatureNow:M,temperatureAlertNow:L,humidityNow:T,humidityAlertNow:S,liveData:c}})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(ni,{lineCharts:W})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(yi,{data:{humidity:A,humidityAlerts:k,temperature:I,temperatureAlerts:E,timestamps:D}})}),O]}),Z=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:B}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,justify:"center",alignItems:"center",style:{height:"70vh"},spacing:4,children:Object(a.jsx)(Bn,{message:"No data has been stored yet."})})})]});return l?G:h?Z:P}var Ni=function(e,t,n,r,i){var o=t.navigationAliases[1],c=[n,o,"containerName"],l=i+n+"/",u=l+o+"/",j=u+":containerID~:containerName/";return[Object(a.jsx)(d.b,{exact:!0,path:l,render:function(){return e?Object(a.jsx)(d.a,{to:u}):Object(a.jsx)(d.a,{to:r})}},Math.random()),Object(a.jsx)(d.b,{exact:!0,path:u,render:function(t){return e?Object(a.jsx)(Pr,Object(s.a)(Object(s.a)({},t),{},{navigationList:c})):Object(a.jsx)(d.a,{to:r})}},Math.random()),Object(a.jsx)(d.b,{exact:!0,path:j,render:function(t){return e?Object(a.jsx)(Ci,Object(s.a)(Object(s.a)({},t),{},{navigationList:c})):Object(a.jsx)(d.a,{to:r})}},Math.random())]},Di=function(e,t,n){return(e.endsWith("/")?e.slice(0,-1):e)+"/"+t+"~"+n.split(" ").join("_")},wi=function(e){var t=e.signedin,n=e.thisUser;return Object(a.jsx)(l.a,{children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{exact:!0,path:he,render:function(e){return t?Object(a.jsx)(d.a,{to:me}):Object(a.jsx)(ne,Object(s.a)({},e))}}),Object(a.jsx)(d.b,{exact:!0,path:me,render:function(e){return t?Object(a.jsx)(Ee,Object(s.a)({},e)):Object(a.jsx)(d.a,{to:he})}}),Object(a.jsx)(d.b,{exact:!0,path:pe,render:function(e){return t?Object(a.jsx)(f,Object(s.a)({},e)):Object(a.jsx)(d.a,{to:he})}}),Lr(t,n,Oe,he,me).filter((function(e){return e})),Ni(t,n,fe,he,me).filter((function(e){return e})),Object(a.jsx)(d.b,{exact:!0,path:be,render:function(e){return t?Object(a.jsx)(h,Object(s.a)({},e)):Object(a.jsx)(d.a,{to:he})}}),Object(a.jsx)(d.a,{from:"*",to:be})]})})},Ii=n(352),Ei=n(353),Mi=n(292),Li=n(294),Ai=n(181),ki=n.n(Ai),Ti=n(180),Si=n.n(Ti),Ri=Object(S.a)((function(e){return Ye(e)})),Fi=function(e){var t=Ri(),n=Object(Q.b)();return Object(a.jsx)(nt.a,{color:"inherit",edge:"start",onClick:function(e){return yt(n)},className:"desktop"===e.screen?t.menuButtonDesktop:"mobile"===e.screen?t.menuButtonMobile:null,children:Object(a.jsx)(Si.a,{className:"desktop"===e.screen?t.listItemIcon:null})})},Wi=Object(S.a)((function(e){return Ye(e)})),Bi=function(e){var t=Wi(),n=Object(Q.b)(),r=Object(Q.c)((function(e){return e.common.toggleSideBar})),i=Object(a.jsx)(Mi.a,{className:t.list,children:xe().map((function(e,n){return Object(a.jsx)(ve.a,{title:e.title,placement:"right",disableHoverListener:r,children:Object(a.jsxs)(Li.a,{button:!0,onClick:function(t){return n=e.url,void(window.location.href=n);var n},children:[e.icon,Object(a.jsx)(j.a,{variant:"overline",className:t.listItemText,children:e.title})]},n)},n)}))}),o=Object(a.jsxs)(Sn.a,{anchor:"left",open:r,classes:{paper:t.drawer},ModalProps:{keepMounted:!0},children:[Object(a.jsx)("div",{className:t.drawerHeader,children:Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)(p.a,{fullWidth:!0,onClick:function(e){return yt(n)},style:{padding:15},children:Object(a.jsx)(ki.a,{className:t.listItemIcon})})})}),i]}),c=Object(a.jsxs)(Sn.a,{variant:"permanent",className:t.drawerClose,classes:{paper:t.drawerClose},children:[Object(a.jsx)("div",{className:t.drawerHeader,children:Object(a.jsx)(Fi,{screen:"desktop"})}),i]});return Object(a.jsxs)(a.Fragment,{children:[c,o]})},Gi=n(114),Pi=n.n(Gi),Zi=n(182),Ui=n.n(Zi),zi=n(129),Hi=n.n(zi),Vi=Object(S.a)((function(e){return Ye(e)})),Yi=function(e){var t=Vi(),n=function(){d(),localStorage.clear(),window.location.href="/"},i=Object(r.useState)(null),o=Object(x.a)(i,2),c=o[0],s=o[1],l=Boolean(c),d=function(){s(null)},u=e.thisUser&&e.thisUser.name?e.thisUser.name:"Account",m=Object(a.jsxs)($e.a,{keepMounted:!0,anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:function(e){return d(e)},children:[Object(a.jsxs)(Qe.a,{children:[Object(a.jsx)(Pi.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{color:"textSecondary",variant:"overline",children:u})]}),Object(a.jsxs)(Qe.a,{onClick:function(e){return n()},children:[Object(a.jsx)(Hi.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{color:"textSecondary",variant:"overline",children:"Signout"})]})]}),h=Object(r.useState)(null),b=Object(x.a)(h,2),p=b[0],O=b[1],f=Boolean(p),g=Object(a.jsxs)($e.a,{keepMounted:!0,anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:function(e){O(null)},children:[Object(a.jsxs)(Qe.a,{children:[Object(a.jsx)(Pi.a,{className:t.menuItemIcon}),Object(a.jsxs)(j.a,{color:"textSecondary",variant:"overline",children:[" ",u]})]}),Object(a.jsxs)(Qe.a,{onClick:function(e){return n()},children:[Object(a.jsx)(Hi.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{color:"textSecondary",variant:"overline",children:"Signout"})]})]});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:t.sectionDesktop,children:Object(a.jsx)(nt.a,{edge:"end",onClick:function(e){s(e.currentTarget)},color:"inherit",children:Object(a.jsx)(Pi.a,{})})}),Object(a.jsx)("div",{className:t.sectionMobile,children:Object(a.jsx)(nt.a,{onClick:function(e){O(e.currentTarget)},color:"inherit",children:Object(a.jsx)(Ui.a,{})})}),g,m]})},qi=Object(S.a)((function(e){return Ye(e)})),Ki=function(e){var t=qi();return e.signedin?Object(a.jsxs)("div",{className:t.grow,children:[Object(a.jsx)(Ii.a,{position:"fixed",className:t.appBar,children:Object(a.jsxs)(Ei.a,{children:[Object(a.jsx)(Fi,{screen:"mobile"}),Object(a.jsx)(ve.a,{title:"WiserMachines",placement:"right",children:Object(a.jsx)(p.a,{edge:"start",onClick:function(e){window.location.href="/"},children:Object(a.jsx)("img",{src:"/img/logo.png",alt:"WiserMachines",className:t.logo})})}),Object(a.jsx)("div",{className:t.grow}),Object(a.jsx)(Yi,{thisUser:e.thisUser})]})}),Object(a.jsx)(Bi,{}),Object(a.jsxs)("main",{className:t.content,children:[Object(a.jsx)("div",{style:{paddingTop:56}}),Object(a.jsx)("div",{children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",children:Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(wi,Object(s.a)({},e))})})})]})]}):Object(a.jsx)(wi,Object(s.a)({},e))},Ji=n(354),Xi=function(e){e.classes;var t=Object(Q.c)((function(e){return e.errors.errorCode})),n=Object(Q.c)((function(e){return e.errors.errorMessage})),r=function(){window.location.reload()};return Object(a.jsx)(Sn.a,{open:null!==t,anchor:"top",onClose:r,type:"temporary",children:Object(a.jsx)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{width:"100vw",height:"100vh"},spacing:0,children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:6,children:[Object(a.jsxs)(u.a,{item:!0,children:[Object(a.jsx)(j.a,{variant:"h5",gutterBottom:!0,align:"center",children:t}),Object(a.jsx)(j.a,{variant:"body1",gutterBottom:!0,align:"center",children:n})]}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(Ji.a,{children:[Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",onClick:function(e){return r()},color:"primary",children:"Refresh"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",onClick:function(e){window.history.go(-1)},color:"primary",children:"Go Back"})]})})]})})})})},$i=function(e){var t=localStorage.getItem("signedin"),n=localStorage.getItem("user"),o=$.users.filter((function(e){return e.name===n})).pop();return Ae(o)||(o=$.users[0]),Object(r.useEffect)((function(){document.body.style.backgroundColor=m.BLUEGREY[100]}),[]),Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(Ki,Object(s.a)(Object(s.a)({},e),{},{signedin:t,thisUser:o})),Object(a.jsx)(Xi,Object(s.a)({},e))]})},Qi=n(44),eo=n(183),to={allWorkshops:[],workshopsLoading:!1,addWorkshopResponse:0,editWorkshopResponse:0,addWorkshopLoading:!1,editWorkshopLoading:!1,deleteWorkshopLoading:!1,notFound:!1},no={workshopID:"",allZonesInAWorkshop:[],zonesLoading:!1,addZoneResponse:0,editZoneResponse:0,addZoneLoading:!1,editZoneLoading:!1,deleteZoneLoading:!1,notFound:!1},ao={zoneID:"",allMachinesInAZone:[],zoneSummary:{},machineMappings:[],machinesLoading:!1,addMachineResponse:0,editMachineResponse:0,editMachineMappingResponse:0,addMachineLoading:!1,editMachineLoading:!1,deleteMachineLoading:!1,editMachineMappingLoading:!1,deleteMachineMappingLoading:!1,notFound:!1},ro={zoneID:"",allNodesInAZone:[],allNodesInAZoneProfiles:[],nodesLoading:!1,addNodeResponse:0,editNodeResponse:0,addNodeLoading:!1,editNodeLoading:!1,deleteNodeLoading:!1,notFound:!1},io={machineID:"",data:[],timeFilter:"",machineLoading:!1,noStoredMachineDataResponse:null,notFound:!1},oo=J,co={allContainers:[],workshopID:"",containersLoading:!1,addResponse:0,editResponse:0,addLoading:!1,editLoading:!1,deleteLoading:!1,notFound:!1},so=X,lo={containerDetailsData:[],containerDetailsLoading:!1,containerProfile:null,notFound:!1},uo=Object(Qi.c)({containersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:co,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oo.containersLoading:return Object(s.a)(Object(s.a)({},e),{},{containersLoading:!0});case oo.populateContainersPage:return Object(s.a)(Object(s.a)({},e),{},{allContainers:t.payload.allZones,workshopID:t.payload.workshopID,containersLoading:!1,notFound:!1});default:return Object(s.a)({},e)}},containerDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case so.containerDetailsLoading:return Object(s.a)(Object(s.a)({},e),{},{containerDetailsLoading:!0});case so.populateContainerDetailsPage:return Object(s.a)(Object(s.a)({},e),{},{containerDetailsData:t.payload,containerDetailsLoading:!1,notFound:!1});case so.noStoredDataResponse:case so.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0,containerDetailsData:[],containerDetailsLoading:!1});case so.getContainerProfile:return Object(s.a)(Object(s.a)({},e),{},{containerProfile:t.payload});default:return Object(s.a)({},e)}}}),jo={timeFilter:"",toggleAddFormDrawer:!1,toggleEditFormDrawer:{open:!1,ID:"",name:""},toggleEditMappingFormDrawer:{open:!1,ID:"",name:""},machinesOrNodesFilter:"machines",toggleSideBar:!1},mo={signinLoading:!1,signinError:null,signinResponse:null,signoutResponse:null,user:localStorage.getItem("user")},ho={errorCode:null,errorMessage:null},bo=Object(Qi.c)({workshops:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.workshopsLoading:return Object(s.a)(Object(s.a)({},e),{},{workshopsLoading:!0});case R.getAllWorkshops:return Object(s.a)(Object(s.a)({},e),{},{allWorkshops:t.payload,workshopsLoading:!1,notFound:!1});case R.addWorkshopLoading:return Object(s.a)(Object(s.a)({},e),{},{addWorkshopLoading:!0});case R.addWorkshop:return Object(s.a)(Object(s.a)({},e),{},{addWorkshopResponse:t.payload.response,addWorkshopLoading:!1});case R.editWorkshopLoading:return Object(s.a)(Object(s.a)({},e),{},{editWorkshopLoading:!0});case R.deleteWorkshopLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteWorkshopLoading:!0});case R.editOrDeleteWorkshop:return Object(s.a)(Object(s.a)({},e),{},{editWorkshopResponse:t.payload.response,editWorkshopLoading:!1,deleteWorkshopLoading:!1});case R.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},zones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:no,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.zonesLoading:return Object(s.a)(Object(s.a)({},e),{},{zonesLoading:!0});case F.getAllZonesInAWorkshop:return Object(s.a)(Object(s.a)({},e),{},{allZonesInAWorkshop:t.payload.allZonesInAWorkshop,workshopID:t.payload.workshopID,zonesLoading:!1,notFound:!1});case F.addZoneLoading:return Object(s.a)(Object(s.a)({},e),{},{addZoneLoading:!0});case F.addZone:return Object(s.a)(Object(s.a)({},e),{},{addZoneResponse:t.payload.response,addZoneLoading:!1});case F.editZoneLoading:return Object(s.a)(Object(s.a)({},e),{},{editZoneLoading:!0});case F.deleteZoneLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteZoneLoading:!0});case F.editOrDeleteZone:return Object(s.a)(Object(s.a)({},e),{},{editZoneResponse:t.payload.response,editZoneLoading:!1,deleteZoneLoading:!1});case F.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},machines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.machinesLoading:return Object(s.a)(Object(s.a)({},e),{},{machinesLoading:!0});case W.getAllMachinesInAZone:return Object(s.a)(Object(s.a)({},e),{},{allMachinesInAZone:t.payload.allMachinesInAZone,zoneSummary:t.payload.zoneSummary,zoneID:t.payload.zoneID,machinesLoading:!1,notFound:!1});case W.getAllMachineMappings:return Object(s.a)(Object(s.a)({},e),{},{machineMappings:t.payload,machinesLoading:!1});case W.addMachineLoading:return Object(s.a)(Object(s.a)({},e),{},{addMachineLoading:!0});case W.editMachineLoading:return Object(s.a)(Object(s.a)({},e),{},{editMachineLoading:!0});case W.deleteMachineLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteMachineLoading:!0});case W.editMachineMappingLoading:return Object(s.a)(Object(s.a)({},e),{},{editMachineMappingLoading:!0});case W.deleteMachineMappingLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteMachineMappingLoading:!0});case W.addMachine:return Object(s.a)(Object(s.a)({},e),{},{addMachineResponse:t.payload.response,addMachineLoading:!1});case W.editOrDeleteMachine:return Object(s.a)(Object(s.a)({},e),{},{editMachineResponse:t.payload.response,editMachineLoading:!1,deleteMachineLoading:!1});case W.editMachineMapping:return Object(s.a)(Object(s.a)({},e),{},{editMachineMappingResponse:t.payload.response,editMachineMappingLoading:!1,deleteMachineMappingLoading:!1});case W.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},nodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.nodesLoading:return Object(s.a)(Object(s.a)({},e),{},{nodesLoading:!0});case B.getAllNodesInAZone:return Object(s.a)(Object(s.a)({},e),{},{allNodesInAZone:t.payload.allNodesInAZone,allNodesInAZoneProfiles:t.payload.allNodesInAZoneProfiles,zoneID:t.payload.zoneID,nodesLoading:!1,notFound:!1});case B.addNodeLoading:return Object(s.a)(Object(s.a)({},e),{},{addNodeLoading:!0});case B.addNode:return Object(s.a)(Object(s.a)({},e),{},{addNodeResponse:t.payload.response,addNodeLoading:!1});case B.editNodeLoading:return Object(s.a)(Object(s.a)({},e),{},{editNodeLoading:!0});case B.deleteNodeLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteNodeLoading:!0});case B.editOrDeleteNode:return Object(s.a)(Object(s.a)({},e),{},{editNodeResponse:t.payload.response,editNodeLoading:!1,deleteNodeLoading:!1});case B.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},machineDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:io,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.machineLoading:return Object(s.a)(Object(s.a)({},e),{},{machineLoading:!0});case G.getMachineDataByID:return Object(s.a)(Object(s.a)({},e),{},{machineID:t.payload.ID,data:t.payload.data,noStoredMachineDataResponse:null,notFound:!1,machineLoading:!1});case G.noStoredMachineDataResponse:return Object(s.a)(Object(s.a)({},e),{},{machineID:t.payload.ID,noStoredMachineDataResponse:"No data has yet been stored for this machine.",data:[],machineLoading:!1});case G.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(s.a)(Object(s.a)({},e),{},{timeFilter:t.payload.timeFilter});case Z:return Object(s.a)(Object(s.a)({},e),{},{toggleAddFormDrawer:!e.toggleAddFormDrawer});case z:return Object(s.a)(Object(s.a)({},e),{},{toggleEditFormDrawer:{open:!e.toggleEditFormDrawer.open,ID:t.payload.ID,name:t.payload.name}});case H:return Object(s.a)(Object(s.a)({},e),{},{toggleEditMappingFormDrawer:{open:!e.toggleEditMappingFormDrawer.open,ID:t.payload.ID,name:t.payload.name}});case U:return Object(s.a)(Object(s.a)({},e),{},{machinesOrNodesFilter:t.payload.machinesOrNodesFilter});case V:return Object(s.a)(Object(s.a)({},e),{},{toggleSideBar:!e.toggleSideBar});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(s.a)(Object(s.a)({},e),{},{signinLoading:!0,signinError:null,signinResponse:null});case Y:return Object(s.a)(Object(s.a)({},e),{},{signinLoading:!1,signinError:null,signinResponse:t.payload});case K:return Object(s.a)(Object(s.a)({},e),{},{signinLoading:!1,signinResponse:null,signinError:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ho,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case 500:return Object(s.a)(Object(s.a)({},e),{},{errorCode:t.type,errorMessage:"Internal Server Error"});default:return e}},environmentMonitoring:uo}),po=[eo.a],Oo=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),fo=Object(Qi.e)(bo,void 0===Oo?Object(Qi.d)(Qi.a.apply(void 0,po)):Object(Qi.d)(Qi.a.apply(void 0,po),Oo)),go=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,361)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};c.a.render(Object(a.jsx)(Q.a,{store:fo,children:Object(a.jsx)($i,{})}),document.getElementById("root")),go()}},[[286,1,2]]]);
//# sourceMappingURL=main.6e5b7616.chunk.js.map